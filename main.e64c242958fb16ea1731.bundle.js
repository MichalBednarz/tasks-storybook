(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return QUERY_TIMELOGS_WITH_TASK}),__webpack_require__.d(__webpack_exports__,"a",function(){return QUERY_TIMELOGS});var _Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),graphql_tag__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11),graphql_tag__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_1__),_shared_graphql_fragments__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24);function _templateObject3(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tquery QueryTasks($where: TaskWhereInput!) {\n\t\ttasks(where: $where) {\n\t\t\tid\n\t\t\tname\n\t\t}\n\t}\n"]);return _templateObject3=function _templateObject3(){return data},data}function _templateObject2(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tquery QueryTimelogs(\n\t\t$where: TimelogWhereInput!\n\t\t$orderBy: TimelogOrderByInput\n\t) {\n\t\ttimelogs(where: $where, orderBy: $orderBy) {\n\t\t\t...timelog\n\t\t\ttask {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t}\n\t\t}\n\t}\n\t","\n"]);return _templateObject2=function _templateObject2(){return data},data}function _templateObject(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tquery QueryDailyTimelogs(\n\t\t$where: TimelogWhereInput!\n\t\t$orderBy: TimelogOrderByInput\n\t) {\n\t\ttimelogs(where: $where, orderBy: $orderBy) {\n\t\t\t...timelog\n\t\t\ttask {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t}\n\t\t}\n\t}\n\t","\n"]);return _templateObject=function _templateObject(){return data},data}var QUERY_TIMELOGS_WITH_TASK=graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject(),_shared_graphql_fragments__WEBPACK_IMPORTED_MODULE_2__.e),QUERY_TIMELOGS=graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject2(),_shared_graphql_fragments__WEBPACK_IMPORTED_MODULE_2__.e);graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject3())},112:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return QUERY_ACTIVE_TIMELOG});var _Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),graphql_tag__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11),graphql_tag__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_1__),_shared_graphql_fragments__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24);function _templateObject(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tquery GetActiveTimelog {\n\t\tactiveTimelog {\n\t\t\t...timelog\n\t\t\ttask {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t}\n\t\t}\n\t}\n\t","\n"]);return _templateObject=function _templateObject(){return data},data}var QUERY_ACTIVE_TIMELOG=graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject(),_shared_graphql_fragments__WEBPACK_IMPORTED_MODULE_2__.e)},1125:function(module,__webpack_exports__,__webpack_require__){"use strict";var react=__webpack_require__(1),react_default=__webpack_require__.n(react),Breadcrumb=__webpack_require__(1147),BreadcrumbItem=__webpack_require__(1148),UncontrolledDropdown=__webpack_require__(1149),DropdownToggle=__webpack_require__(1139),DropdownMenu=__webpack_require__(1138),DropdownItem=__webpack_require__(1137),ProjectNavbar_ProjectNavbar=function ProjectNavbar(_ref){var projects=_ref.projects,onProjectClick=_ref.onProjectClick,projectId=_ref.projectId,subprojects=_ref.subprojects,onSubprojectClick=_ref.onSubprojectClick,subprojectId=_ref.subprojectId;return react_default.a.createElement(Breadcrumb.a,{tag:"nav"},react_default.a.createElement(BreadcrumbItem.a,{tag:"nav"},react_default.a.createElement(UncontrolledDropdown.a,{nav:!0,group:!0},react_default.a.createElement(DropdownToggle.a,{tag:"span",nav:!0,caret:!0,"data-testid":"project-toggle"},projectId?projects.find(function(_ref2){return _ref2.id===projectId}).name:"No Project"),react_default.a.createElement(DropdownMenu.a,null,projects.length&&projects.map(function(_ref3,key){var id=_ref3.id,name=_ref3.name;return react_default.a.createElement(react.Fragment,{key:key},react_default.a.createElement(DropdownItem.a,{onClick:function onClick(){return onProjectClick(id)},active:id===projectId},name),react_default.a.createElement(DropdownItem.a,{divider:!0}))}),react_default.a.createElement(DropdownItem.a,{active:!projectId,onClick:function onClick(){return onProjectClick(null)}},"No Project")))),react_default.a.createElement(BreadcrumbItem.a,{tag:"nav"},react_default.a.createElement(UncontrolledDropdown.a,{nav:!0,group:!0},react_default.a.createElement(DropdownToggle.a,{tag:"span",nav:!0,caret:!0,"data-testid":"subproject-toggle"},subprojectId&&subprojects.some(function(_ref4){return _ref4.id===subprojectId})?subprojects.find(function(_ref5){return _ref5.id===subprojectId}).name:"No Subproject"),react_default.a.createElement(DropdownMenu.a,null,subprojects.map(function(_ref6,key){var id=_ref6.id,name=_ref6.name;return react_default.a.createElement(react.Fragment,{key:key},react_default.a.createElement(DropdownItem.a,{active:id===subprojectId,onClick:function onClick(){return onSubprojectClick(id)}},name),react_default.a.createElement(DropdownItem.a,{divider:!0}))}),react_default.a.createElement(DropdownItem.a,{active:!subprojectId,onClick:function onClick(){return onSubprojectClick(null)}},"No Subproject")))))},components_ProjectNavbar=ProjectNavbar_ProjectNavbar;ProjectNavbar_ProjectNavbar.__docgenInfo={description:"",methods:[],displayName:"ProjectNavbar"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/project/components/ProjectNavbar.js"]={name:"ProjectNavbar",docgenInfo:ProjectNavbar_ProjectNavbar.__docgenInfo,path:"src/app/tasks/project/components/ProjectNavbar.js"});var react_apollo_esm=__webpack_require__(9),taggedTemplateLiteral=__webpack_require__(4),src=__webpack_require__(11),src_default=__webpack_require__.n(src),fragments=__webpack_require__(24);function _templateObject2(){var data=Object(taggedTemplateLiteral.a)(["\n\tquery ProjectsQuery {\n\t\tprojects {\n\t\t\tid\n\t\t\tname\n\t\t}\n\t\tsubprojects {\n\t\t\tid\n\t\t\tname\n\t\t}\n\t}\n"]);return _templateObject2=function _templateObject2(){return data},data}function _templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\t{\n\t\tprojects {\n\t\t\t...project\n\t\t\tsubprojects {\n\t\t\t\t...subproject\n\t\t\t}\n\t\t}\n\t}\n\t","\n"]);return _templateObject=function _templateObject(){return data},data}src_default()(_templateObject(),(fragments.a,fragments.b));var QUERY_NAVBAR_PROJECTS=src_default()(_templateObject2()),containers_ProjectNavbar_ProjectNavbar=function ProjectNavbar(_ref){var _ref$data=_ref.data,_ref$data$projects=_ref$data.projects,projects=void 0===_ref$data$projects?[]:_ref$data$projects,_ref$data$subprojects=_ref$data.subprojects,subprojects=void 0===_ref$data$subprojects?[]:_ref$data$subprojects,client=_ref.client;return react_default.a.createElement(components_ProjectNavbar,{projects:projects,onProjectClick:function onProjectClick(id){client.writeData({data:{filters:{projectId:id,__typename:"TaskFilters"}}})},projectId:projectId,subprojects:projectId?subprojects.filter(function(_ref2){return _ref2.project===projectId}):subprojects,onSubprojectClick:function onSubprojectClick(id){client.writeData({data:{filters:{subprojectId:id,__typename:"TaskFilters"}}})},subprojectId:subprojectId})};Object(react_apollo_esm.d)(Object(react_apollo_esm.c)(QUERY_NAVBAR_PROJECTS)(containers_ProjectNavbar_ProjectNavbar));containers_ProjectNavbar_ProjectNavbar.__docgenInfo={description:"",methods:[],displayName:"ProjectNavbar"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/project/containers/ProjectNavbar.js"]={name:"ProjectNavbar",docgenInfo:containers_ProjectNavbar_ProjectNavbar.__docgenInfo,path:"src/app/tasks/project/containers/ProjectNavbar.js"})},1127:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var toConsumableArray=__webpack_require__(42),dist=(__webpack_require__(1),__webpack_require__(138),__webpack_require__(89));__webpack_require__(342),__webpack_require__(341),__webpack_require__(338),__webpack_require__(15),__webpack_require__(177),Object(dist.action)("toggle"),Object(toConsumableArray.a)(Array.from(Array(10).keys())).map(function(x){return{id:x,name:x+" task"}})},143:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),reactstrap__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(153),reactstrap__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1130),reactstrap__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1131),reactstrap__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(576),react_datepicker__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(113),moment__WEBPACK_IMPORTED_MODULE_8__=(__webpack_require__(1087),__webpack_require__(25)),commonProps={customInput:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(function CustomInput(_ref){var onClick=_ref.onClick,value=_ref.value;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_2__.a,{onClick:onClick,value:value})},null),dateFormat:"yyyy-MM-dd",popperPlacement:"bottom-end",popperModifiers:{offset:{enabled:!0,offset:"5px, 10px"},preventOverflow:{enabled:!0,escapeWithReference:!1,boundariesElement:"viewport"}}};__webpack_exports__.a=function WithDateRangeSelect(Component){return function(props){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(moment__WEBPACK_IMPORTED_MODULE_8__().startOf("week").toDate()),_useState2=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState,2),startDate=_useState2[0],setStartDate=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(moment__WEBPACK_IMPORTED_MODULE_8__().endOf("day").toDate()),_useState4=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState3,2),endDate=_useState4[0],setEndDate=_useState4[1];return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_3__.a,{className:"py-3"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_4__.a,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_5__.a,{className:"col-3"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_datepicker__WEBPACK_IMPORTED_MODULE_6__.a,Object.assign({selected:startDate,selectsStart:!0,startDate:startDate,endDate:endDate,onChange:function onChange(date){return setStartDate(date)}},commonProps))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_5__.a,{className:"col-3"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_datepicker__WEBPACK_IMPORTED_MODULE_6__.a,Object.assign({selected:endDate,selectsEnd:!0,startDate:startDate,endDate:endDate,onChange:function onChange(date){return setEndDate(date)},minDate:startDate},commonProps))))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Component,Object.assign({},props,{dateRange:[startDate,endDate]})))}}},147:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return UPDATE_TIMELOG}),__webpack_require__.d(__webpack_exports__,"a",function(){return DELETE_TIMELOG});var _Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),graphql_tag__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11),graphql_tag__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_1__),_shared_graphql_fragments__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24);function _templateObject2(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tmutation DeleteTimelog($where: TimelogWhereUniqueInput!) {\n\t\tdeleteTimelog(where: $where) {\n\t\t\tid\n\t\t}\n\t}\n"]);return _templateObject2=function _templateObject2(){return data},data}function _templateObject(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tmutation UpdateTimelog(\n\t\t$data: TimelogUpdateInput!\n\t\t$where: TimelogWhereUniqueInput!\n\t) {\n\t\tupdateTimelog(data: $data, where: $where) {\n\t\t\t...timelog\n\t\t}\n\t}\n\t","\n"]);return _templateObject=function _templateObject(){return data},data}var UPDATE_TIMELOG=graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject(),_shared_graphql_fragments__WEBPACK_IMPORTED_MODULE_2__.e),DELETE_TIMELOG=graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject2())},177:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return client});var apollo_client__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(145),apollo_link__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(39),apollo_link_error__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(520),apollo_link_http__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(570),apollo_cache_inmemory__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(566),apollo_link_state__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(569),apollo_link_ws__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(519),_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(19),apollo_utilities__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7),wsLink=new apollo_link_ws__WEBPACK_IMPORTED_MODULE_6__.a({uri:"ws".concat("https://tasks-api-prisma.herokuapp.com".replace(/http/,"")),options:{reconnect:!0}}),httpLink=new apollo_link_http__WEBPACK_IMPORTED_MODULE_3__.a({uri:"https://tasks-api-prisma.herokuapp.com"}),link=Object(apollo_link__WEBPACK_IMPORTED_MODULE_1__.d)(function(_ref){var query=_ref.query,definition=Object(apollo_utilities__WEBPACK_IMPORTED_MODULE_8__.getMainDefinition)(query);return"OperationDefinition"===definition.kind&&"subscription"===definition.operation},wsLink,httpLink),errorLink=Object(apollo_link_error__WEBPACK_IMPORTED_MODULE_2__.a)(function(_ref2){var graphQLErrors=_ref2.graphQLErrors,networkError=_ref2.networkError;graphQLErrors&&graphQLErrors.forEach(function(_ref3){var message=_ref3.message,locations=_ref3.locations,path=_ref3.path;return console.log("[GraphQL error]: Message: ".concat(message,", Location: ").concat(locations,", Path: ").concat(path))}),networkError&&console.log("[Network error]: ".concat(networkError))}),authLink=new apollo_link__WEBPACK_IMPORTED_MODULE_1__.a(function(operation,forward){return Object(_utils__WEBPACK_IMPORTED_MODULE_7__.g)(operation),forward(operation)}),cache=new apollo_cache_inmemory__WEBPACK_IMPORTED_MODULE_4__.a,client=new apollo_client__WEBPACK_IMPORTED_MODULE_0__.a({link:apollo_link__WEBPACK_IMPORTED_MODULE_1__.a.from([errorLink,authLink,Object(apollo_link_state__WEBPACK_IMPORTED_MODULE_5__.a)({defaults:{},resolvers:{},cache:cache}),link]),cache:cache,defaultOptions:{watchQuery:{fetchPolicy:"cache-and-network",errorPolicy:"ignore"},query:{fetchPolicy:"network-only",errorPolicy:"all"},mutate:{errorPolicy:"all"}}})},178:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return CREATE_TAG}),__webpack_require__.d(__webpack_exports__,"c",function(){return UPDATE_TAG}),__webpack_require__.d(__webpack_exports__,"b",function(){return DELETE_TAG});var _Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),graphql_tag__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11),graphql_tag__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_1__),_shared_graphql_fragments__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24);function _templateObject3(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tmutation DeleteTag($where: TagWhereUniqueInput!) {\n\t\tdeleteTag(where: $where) {\n\t\t\t...tag\n\t\t}\n\t}\n\t","\n"]);return _templateObject3=function _templateObject3(){return data},data}function _templateObject2(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tmutation UpdateTag($data: TagUpdateInput!, $where: TagWhereUniqueInput!) {\n\t\tupdateTag(data: $data, where: $where) {\n\t\t\t...tag\n\t\t}\n\t}\n\t","\n"]);return _templateObject2=function _templateObject2(){return data},data}function _templateObject(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tmutation CreateTag($data: TagCreateInput!) {\n\t\tcreateTag(data: $data) {\n\t\t\t...tag\n\t\t}\n\t}\n\t","\n"]);return _templateObject=function _templateObject(){return data},data}var CREATE_TAG=graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject(),_shared_graphql_fragments__WEBPACK_IMPORTED_MODULE_2__.c),UPDATE_TAG=graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject2(),_shared_graphql_fragments__WEBPACK_IMPORTED_MODULE_2__.c),DELETE_TAG=graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject3(),_shared_graphql_fragments__WEBPACK_IMPORTED_MODULE_2__.c)},19:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",function(){return mutationVariablesWithUser}),__webpack_require__.d(__webpack_exports__,"e",function(){return queryVariablesWithUser}),__webpack_require__.d(__webpack_exports__,"f",function(){return queryVariablesWithUserThrough}),__webpack_require__.d(__webpack_exports__,"c",function(){return handleLoginResult}),__webpack_require__.d(__webpack_exports__,"b",function(){return getUserId}),__webpack_require__.d(__webpack_exports__,"a",function(){return getToken}),__webpack_require__.d(__webpack_exports__,"g",function(){return setAuthorizationHeader});var _Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(98),_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(31),mutationVariablesWithUser=function mutationVariablesWithUser(data){return{data:Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__.a)({},data,{user:{connect:{id:getUserId()}}})}},queryVariablesWithUser=function queryVariablesWithUser(){var variables=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{where:{}};return Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__.a)({},variables,{where:Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__.a)({},variables.where,{user:{id:getUserId()}})})},queryVariablesWithUserThrough=function queryVariablesWithUserThrough(through){var variables=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{where:Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},through,{})};return Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__.a)({},variables,{where:Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__.a)({},variables.where,Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},through,Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__.a)({},variables.where[through],{user:{id:getUserId()}})))})},handleLoginResult=function handleLoginResult(_ref){var token=_ref.token,id=_ref.user.id;setToken(token),setUserId(id)},setUserId=function setUserId(id){return localStorage.setItem("userId",id)},getUserId=function getUserId(){return Number(localStorage.getItem("userId"))},setToken=function setToken(token){return localStorage.setItem("prismaToken",token)},getToken=function getToken(){return localStorage.getItem("prismaToken")},setAuthorizationHeader=function setAuthorizationHeader(operation){return operation.setContext({headers:{authorization:getToken()||null}})}},231:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),reactstrap__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(577),reactstrap__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(573),reactstrap__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1128),reactstrap__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(574),reactstrap__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(360),reactstrap__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(361),reactstrap__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(153),reactstrap__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(575),reactstrap__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(124),TagModal=function TagModal(_ref){var isOpen=_ref.isOpen,createTag=_ref.createTag,updateTag=_ref.updateTag,tag=_ref.tag,toggle=_ref.toggle,_useState=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(tag?tag.name:""),_useState2=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState,2),name=_useState2[0],setName=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(tag?tag.color:"#000000"),_useState4=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState3,2),color=_useState4[0],setColor=_useState4[1],_useState5=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(tag?tag.image:""),_useState6=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState5,2),image=_useState6[0],setImage=_useState6[1];return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_2__.a,{isOpen:isOpen,size:"sm"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_3__.a,{"data-testid":"header",size:"sm",className:"h-6 py-2 bg-light"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("strong",null,tag?"Edit tag":"New tag")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_4__.a,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_5__.a,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{for:"name",size:"sm"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("strong",null,"Tag name")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_8__.a,{"data-testid":"name",type:"text",id:"name",bsSize:"sm",value:name,onChange:function onChange(e){return setName(e.target.value)}})),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{for:"color",size:"sm"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("strong",null,"Tag color")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_8__.a,{"data-testid":"color",type:"color",id:"color",bsSize:"sm",value:color,onChange:function onChange(e){return setColor(e.target.value)}})),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_6__.a,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_7__.a,{for:"image",size:"sm"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("strong",null,"Tag image")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_8__.a,{"data-testid":"image",type:"url",id:"image",bsSize:"sm",value:image,onChange:function onChange(e){return setImage(e.target.value)}}))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_9__.a,{className:"py-2"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_10__.a,{"data-testid":"cancel",color:"secondary",onClick:toggle,size:"sm"},"Cancel"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_10__.a,{"data-testid":"action",color:"success",onClick:function onSubmit(){tag?updateTag({id:tag.id,name:name,image:image,color:color}):createTag({name:name,image:image,color:color}),setName(""),toggle()},disabled:!name,size:"sm"},tag?"Save":"Add"))))};__webpack_exports__.a=TagModal,TagModal.__docgenInfo={description:"",methods:[],displayName:"TagModal"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/tag/components/modals/TagModal.js"]={name:"TagModal",docgenInfo:TagModal.__docgenInfo,path:"src/app/tasks/tag/components/modals/TagModal.js"})},234:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(35),_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(31),react_apollo__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9),_components_modals_TagModal__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(231),_graphql_mutations__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(178),_graphql_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(19),TagModal=Object(react_apollo__WEBPACK_IMPORTED_MODULE_2__.b)(Object(react_apollo__WEBPACK_IMPORTED_MODULE_2__.c)(_graphql_mutations__WEBPACK_IMPORTED_MODULE_4__.a,{props:function props(_ref){var mutate=_ref.mutate;return{createTag:function createTag(data){return mutate({variables:{data:Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__.a)({user:{connect:{id:Object(_graphql_utils__WEBPACK_IMPORTED_MODULE_5__.b)()}}},data)}})}}}}),Object(react_apollo__WEBPACK_IMPORTED_MODULE_2__.c)(_graphql_mutations__WEBPACK_IMPORTED_MODULE_4__.c,{props:function props(_ref2){var mutate=_ref2.mutate;return{updateTag:function updateTag(_ref3){var id=_ref3.id,data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__.a)(_ref3,["id"]);return mutate({variables:{where:{id:id},data:data}})}}}}))(_components_modals_TagModal__WEBPACK_IMPORTED_MODULE_3__.a);__webpack_exports__.a=TagModal},237:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),reactstrap__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(577),reactstrap__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(573),reactstrap__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(574),reactstrap__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(575),reactstrap__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(124),react_icons_fa__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(36),TagDeleteModal=function TagDeleteModal(_ref){var isOpen=_ref.isOpen,_ref$tag=_ref.tag,id=_ref$tag.id,name=_ref$tag.name,toggle=_ref.toggle,deleteTag=_ref.deleteTag;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_1__.a,{isOpen:isOpen,size:"sm"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_2__.a,{className:"pb-0 border-bottom-0"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_icons_fa__WEBPACK_IMPORTED_MODULE_6__.d,{size:"2rem"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_3__.a,null,"Do you really want to delete",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong",{"data-testid":"name"}," ".concat(name)),"?"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_4__.a,{className:"py-2"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_5__.a,{"data-testid":"cancel",color:"secondary",onClick:toggle,size:"sm"},"Cancel"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_5__.a,{"data-testid":"delete",color:"danger",onClick:function onClick(){deleteTag(id),toggle()},size:"sm"},"Delete")))};__webpack_exports__.a=TagDeleteModal,TagDeleteModal.__docgenInfo={description:"",methods:[],displayName:"TagDeleteModal"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/tag/components/modals/TagDeleteModal.js"]={name:"TagDeleteModal",docgenInfo:TagDeleteModal.__docgenInfo,path:"src/app/tasks/tag/components/modals/TagDeleteModal.js"})},24:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",function(){return FRAGMENT_TASK}),__webpack_require__.d(__webpack_exports__,"e",function(){return FRAGMENT_TIMELOG}),__webpack_require__.d(__webpack_exports__,"a",function(){return FRAGMENT_PROJECT}),__webpack_require__.d(__webpack_exports__,"b",function(){return FRAGMENT_SUBPROJECT}),__webpack_require__.d(__webpack_exports__,"c",function(){return FRAGMENT_TAG});var _Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),graphql_tag__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11),graphql_tag__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_1__);function _templateObject6(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tfragment tag on Tag {\n\t\tid\n\t\tname\n\t\timage\n\t\tcolor\n\t\tstatusTime\n\t\tstatusMs\n\t}\n"]);return _templateObject6=function _templateObject6(){return data},data}function _templateObject5(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tfragment subproject on Subproject {\n\t\tid\n\t\tname\n\t\testimateTime\n\t\tstatusTime\n\t}\n"]);return _templateObject5=function _templateObject5(){return data},data}function _templateObject4(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tfragment project on Project {\n\t\tid\n\t\tname\n\t\testimateTime\n\t\tstatusTime\n\t}\n"]);return _templateObject4=function _templateObject4(){return data},data}function _templateObject3(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tfragment timelog on Timelog {\n\t\tid\n\t\tstartDate\n\t\tfinishDate\n\t\tdescription\n\t}\n"]);return _templateObject3=function _templateObject3(){return data},data}function _templateObject2(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tfragment taskWithRelations on Task {\n\t\tid\n\t\tname\n\t\tcompleted\n\t\tpriority\n\t\tcomments\n\t\trepeat\n\t\testimateTime\n\t\tplannedTime\n\t\tplannedDate\n\t\tfinishDate\n\t\tdeadlineDate\n\t\tlatestTimelogStartDate\n\t\ttimelogCount\n\t\tstatusTime\n\t\ttimelogs {\n\t\t\tid\n\t\t\tdescription\n\t\t\tstartDate\n\t\t\tfinishDate\n\t\t}\n\t\tsubproject {\n\t\t\tid\n\t\t\tname\n\t\t}\n\t\ttags {\n\t\t\tid\n\t\t\tname\n\t\t}\n\t}\n"]);return _templateObject2=function _templateObject2(){return data},data}function _templateObject(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tfragment task on Task {\n\t\tid\n\t\tname\n\t\tcompleted\n\t\tpriority\n\t\tcomments\n\t\trepeat\n\t\testimateTime\n\t\tplannedTime\n\t\tplannedDate\n\t\tfinishDate\n\t\tdeadlineDate\n\t\tlatestTimelogStartDate\n\t\ttimelogCount\n\t\tstatusTime\n\t\tsubproject {\n\t\t\tid\n\t\t\tname\n\t\t}\n\t\ttags {\n\t\t\tid\n\t\t\tname\n\t\t}\n\t}\n"]);return _templateObject=function _templateObject(){return data},data}var FRAGMENT_TASK=graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject()),FRAGMENT_TIMELOG=(graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject2()),graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject3())),FRAGMENT_PROJECT=graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject4()),FRAGMENT_SUBPROJECT=graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject5()),FRAGMENT_TAG=graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject6())},247:function(module,__webpack_exports__,__webpack_require__){"use strict";var objectSpread=__webpack_require__(31),react=__webpack_require__(1),react_default=__webpack_require__.n(react),slicedToArray=__webpack_require__(15),es=__webpack_require__(87),foldableTable=__webpack_require__(521),foldableTable_default=__webpack_require__.n(foldableTable),Button=(__webpack_require__(311),__webpack_require__(124)),Input=__webpack_require__(153),index_esm=(__webpack_require__(337),__webpack_require__(36)),CompletedSelect_CompletedSelect=function CompletedSelect(_ref2){var value=_ref2.value,_onChange=_ref2.onChange;return react_default.a.createElement(Input.a,{"data-testid":"select-completed",type:"select",value:value||"uncompleted",onChange:function onChange(e){return _onChange(e.target.value)}},react_default.a.createElement("option",{value:"all"},"All"),react_default.a.createElement("option",{value:"completed"},"Done"),react_default.a.createElement("option",{value:"uncompleted"},"Todo"))},components_CompletedSelect=CompletedSelect_CompletedSelect;CompletedSelect_CompletedSelect.__docgenInfo={description:"",methods:[],displayName:"CompletedSelect"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/task/components/CompletedSelect.js"]={name:"CompletedSelect",docgenInfo:CompletedSelect_CompletedSelect.__docgenInfo,path:"src/app/tasks/task/components/CompletedSelect.js"});var react_apollo_esm=__webpack_require__(9),queries=__webpack_require__(54),find=__webpack_require__(238),find_default=__webpack_require__.n(find),SubprojectSelect_SubprojectSelect=function SubprojectSelect(_ref){var subprojects=_ref.subprojects,subproject=(_ref.loading,_ref.subproject),_onChange=_ref.onChange;return react_default.a.createElement(Input.a,{"data-testid":"subproject-select",type:"select",value:subproject?subproject.name:"No Subproject",onChange:function onChange(e){var selectedProject=find_default()(subprojects,{name:e.target.value});_onChange(selectedProject||{})}},subprojects.map(function(p,key){return react_default.a.createElement("option",{key:key},p.name)}),react_default.a.createElement("option",null,"No Subproject"))},components_SubprojectSelect=SubprojectSelect_SubprojectSelect;SubprojectSelect_SubprojectSelect.__docgenInfo={description:"",methods:[],displayName:"SubprojectSelect"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/task/components/SubprojectSelect.js"]={name:"SubprojectSelect",docgenInfo:SubprojectSelect_SubprojectSelect.__docgenInfo,path:"src/app/tasks/task/components/SubprojectSelect.js"});var utils=__webpack_require__(19),containers_SubprojectSelect=Object(react_apollo_esm.c)(queries.a,{options:{variables:Object(utils.f)("project")},props:function props(_ref){var _ref$data=_ref.data,_ref$data$subprojects=_ref$data.subprojects;return{subprojects:void 0===_ref$data$subprojects?[]:_ref$data$subprojects,loading:_ref$data.loading}}})(components_SubprojectSelect),FoldableTable=foldableTable_default()(es.a),TaskList_TaskList=function TaskList(_ref){var tasks=_ref.tasks,loading=_ref.loading,startTimelog=_ref.startTimelog,renderCheckbox=_ref.renderCheckbox,renderNameInput=_ref.renderNameInput,renderTimelogList=_ref.renderTimelogList,renderEstimateTimeInput=_ref.renderEstimateTimeInput,renderPlannedTimeInput=_ref.renderPlannedTimeInput,renderPlannedDatePicker=_ref.renderPlannedDatePicker,renderDeadlineDatePicker=_ref.renderDeadlineDatePicker,renderOptionsDropdown=_ref.renderOptionsDropdown,renderTagSelect=_ref.renderTagSelect,renderRepeatSelect=_ref.renderRepeatSelect,renderSubprojectSelect=_ref.renderSubprojectSelect,renderPrioritySelect=_ref.renderPrioritySelect,renderCommentsPopover=_ref.renderCommentsPopover,_useState=Object(react.useState)({col_1:!0,col_2:!0}),_useState2=Object(slicedToArray.a)(_useState,2),folded=_useState2[0],setFolded=_useState2[1];return react_default.a.createElement(FoldableTable,{data:tasks,columns:[{Header:"Task",columns:[{id:"completed",accessor:"completed",Cell:function Cell(_ref2){var _ref2$original=_ref2.original,id=_ref2$original.id,completed=_ref2$original.completed;return renderCheckbox({id:id,completed:completed})},filterMethod:function filterMethod(filter,row){return function filterCompleted(_ref){var value=_ref.value,row=_ref.row;return"all"===value||("completed"===value?!0===row:!row)}({value:filter.value,row:row[filter.id]})},Filter:function Filter(_ref3){var filter=_ref3.filter,onChange=_ref3.onChange;return react_default.a.createElement(components_CompletedSelect,{value:filter?filter.value:null,onChange:onChange})},style:{textAlign:"center"},width:30},{expander:!0,Expander:function Expander(_ref4){_ref4.isExpanded;var timelogCount=_ref4.original.timelogCount;return react_default.a.createElement(Button.a,{"data-testid":"timelog-count-button",outline:!0,color:"link",style:{cursor:"pointer",width:"100%",backgroundColor:"white"}},timelogCount)},width:56},{accessor:"name",Cell:function Cell(_ref5){var _ref5$original=_ref5.original,id=_ref5$original.id,name=_ref5$original.name;return renderNameInput({id:id,name:name})},filterMethod:function filterMethod(filter,row){return row[filter.id].toLowerCase().includes(filter.value.toLowerCase())},minWidth:300,foldable:!0}]},{Header:"Info",foldable:!0,columns:[{Header:"Priority",accessor:"priority",Cell:function Cell(_ref6){var _ref6$original=_ref6.original,priority=_ref6$original.priority,id=_ref6$original.id;return renderPrioritySelect({id:id,priority:priority})},width:100,Filter:react_default.a.createElement("div",null)},{Header:"Tags",id:"tags",accessor:"tags",Cell:function Cell(_ref7){var _ref7$original=_ref7.original,id=_ref7$original.id,tags=_ref7$original.tags;return renderTagSelect({id:id,tags:tags})},style:{overflow:"visible"},filterMethod:function filterMethod(filter,row){return row[filter.id].some(function(tag){return tag.name.toLowerCase().startsWith(filter.value.toLowerCase())})},Filter:function Filter(_ref8){var filter=_ref8.filter,_onChange=_ref8.onChange;return react_default.a.createElement(Input.a,{onChange:function onChange(event){return _onChange(event.target.value)},value:filter?filter.value:""})}},{Header:"Subproject",accessor:"subproject.name",id:"subproject.name",Cell:function Cell(_ref9){var _ref9$original=_ref9.original,taskId=_ref9$original.id,subproject=_ref9$original.subproject;_ref9.index,_ref9.column.id;return renderSubprojectSelect({id:taskId,subproject:subproject})},filterMethod:function filterMethod(filter,row){return row[filter.id]===filter.value},Filter:function Filter(_ref10){var filter=_ref10.filter,_onChange2=_ref10.onChange;return react_default.a.createElement(containers_SubprojectSelect,{subproject:{name:filter?filter.value:""},onChange:function onChange(_ref11){var _ref11$name=_ref11.name;return _onChange2(void 0===_ref11$name?"":_ref11$name)}})},width:150}]},{Header:"Time",foldable:!0,columns:[{Header:"Estimate Time",accessor:"estimateTime",Cell:function Cell(_ref12){var _ref12$original=_ref12.original,id=_ref12$original.id,estimateTime=_ref12$original.estimateTime;return renderEstimateTimeInput({id:id,estimateTime:estimateTime})},Filter:react_default.a.createElement("div",null)},{Header:"Planned Time",accessor:"plannedTime",Cell:function Cell(_ref13){var _ref13$original=_ref13.original,id=_ref13$original.id,plannedTime=_ref13$original.plannedTime;return renderPlannedTimeInput({id:id,plannedTime:plannedTime})},Filter:react_default.a.createElement("div",null)},{Header:"Planned Date",accessor:"plannedDate",Cell:function Cell(_ref14){var _ref14$original=_ref14.original,id=_ref14$original.id,plannedDate=_ref14$original.plannedDate;return renderPlannedDatePicker({id:id,plannedDate:plannedDate})},Filter:react_default.a.createElement("div",null)},{Header:"Deadline",accessor:"deadlineDate",Cell:function Cell(_ref15){var _ref15$original=_ref15.original,id=_ref15$original.id,deadlineDate=_ref15$original.deadlineDate;return renderDeadlineDatePicker({id:id,deadlineDate:deadlineDate})},Filter:react_default.a.createElement("div",null)},{Header:"Repeat",accessor:"repeat",Cell:function Cell(_ref16){var _ref16$original=_ref16.original,id=_ref16$original.id,repeat=_ref16$original.repeat;return renderRepeatSelect({id:id,repeat:repeat})},Filter:react_default.a.createElement("div",null),width:75,style:{overflow:"visible"}}]},{Header:"Actions",columns:[{expander:!0,Expander:function Expander(_ref17){var statusTime=_ref17.original.statusTime;return react_default.a.createElement(Button.a,{"data-testid":"status-time-button",outline:!0,color:"link",style:{cursor:"pointer"}},statusTime)},width:100},{Cell:function Cell(_ref18){var original=_ref18.original;return react_default.a.createElement(index_esm.e,{"data-testid":"start-button",size:"1.5em",style:{verticalAlign:"middle"},onClick:function onClick(){return startTimelog(original)},color:"grey"})},width:30,Filter:react_default.a.createElement("div",null)},{Cell:function Cell(_ref19){var original=_ref19.original;_ref19.index;return renderCommentsPopover(original)},width:50,Filter:react_default.a.createElement("div",null)},{Cell:function Cell(_ref20){var id=_ref20.original.id;return renderOptionsDropdown(id)},width:50,style:{overflow:"visible"},Filter:react_default.a.createElement("div",null)}]}],className:"-striped -highlight",style:tasks.length>=10?{height:"500px"}:{},loading:loading,showPagination:!1,pageSize:tasks.length,SubComponent:function SubComponent(_ref21){var id=_ref21.original.id;return renderTimelogList(id)},onFoldChange:setFolded,folded:folded,filterable:!0,defaultFilterMethod:function defaultFilterMethod(filter,row){return String(row[filter.id])===filter.value},collapseOnDataChange:!1,getTdProps:function getTdProps(){return{style:{padding:"2px",alignSelf:"center"}}}})},components_TaskList=TaskList_TaskList;TaskList_TaskList.__docgenInfo={description:"",methods:[],displayName:"TaskList"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/task/components/TaskList.js"]={name:"TaskList",docgenInfo:TaskList_TaskList.__docgenInfo,path:"src/app/tasks/task/components/TaskList.js"});var taggedTemplateLiteral=__webpack_require__(4),objectWithoutProperties=__webpack_require__(35),TimelogList=__webpack_require__(249),mutations=__webpack_require__(147),graphql_queries=__webpack_require__(100),src=__webpack_require__(11),src_default=__webpack_require__.n(src);function _templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\t\t\t\t\t\t\t\tfragment TimelogDescription on Timelog {\n\t\t\t\t\t\t\t\t\tdescription\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t"]);return _templateObject=function _templateObject(){return data},data}var TimelogList_queryTimelogsVariables=function queryTimelogsVariables(taskId){return Object(utils.f)("task",{orderBy:"startDate_DESC",where:{task:{id:taskId}}})},containers_TimelogList=Object(react_apollo_esm.b)(Object(react_apollo_esm.c)(graphql_queries.a,{options:function options(_ref){var taskId=_ref.taskId,dateRange=_ref.dateRange;return{variables:{orderBy:"startDate_DESC",where:{task:{id:taskId||void 0,user:{id:Object(utils.b)()}},startDate_gte:dateRange?dateRange[0]:void 0,startDate_lte:dateRange?dateRange[1]:void 0}}}},props:function props(_ref2){var _ref2$data$timelogs=_ref2.data.timelogs;return{timelogs:void 0===_ref2$data$timelogs?[]:_ref2$data$timelogs}}}),Object(react_apollo_esm.c)(mutations.b,{props:function props(_ref3){var mutate=_ref3.mutate;return{updateTimelog:function updateTimelog(_ref4){var id=_ref4.id,data=Object(objectWithoutProperties.a)(_ref4,["id"]);return mutate({variables:{data:data,where:{id:id}},update:function update(proxy,_ref5){var updateTimelog=_ref5.data.updateTimelog;return proxy.writeFragment({id:id,fragment:src_default()(_templateObject()),data:Object(objectSpread.a)({},updateTimelog)})}})}}}}),Object(react_apollo_esm.c)(mutations.a,{props:function props(_ref6){var mutate=_ref6.mutate,taskId=_ref6.ownProps.taskId;return{deleteTimelog:function deleteTimelog(id){return mutate({variables:{where:{id:id}},refetchQueries:[{query:graphql_queries.a,variables:TimelogList_queryTimelogsVariables(taskId)},{query:queries.c,variables:Object(utils.e)()}]})}}}}))(TimelogList.a),Dropdown=__webpack_require__(346),DropdownToggle=__webpack_require__(1139),DropdownMenu=__webpack_require__(1138),DropdownItem=__webpack_require__(1137),regenerator=__webpack_require__(148),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(239),react_datepicker_es=__webpack_require__(113),Modal=__webpack_require__(577),ModalHeader=__webpack_require__(573),ModalBody=__webpack_require__(574),Container=__webpack_require__(1130),Label=__webpack_require__(361),ModalFooter=__webpack_require__(575),datePickerOptions={customInput:react_default.a.createElement(Input.a,null),timeFormat:"HH:mm:ss",timeIntervals:1,dateFormat:"yyyy-MM-dd HH:mm:ss",timeCaption:"time",showTimeSelect:!0},TimelogModal_TimelogModal=function TimelogModal(_ref){var isOpen=_ref.isOpen,toggle=_ref.toggle,createTimelog=_ref.createTimelog,_useState=Object(react.useState)(new Date),_useState2=Object(slicedToArray.a)(_useState,2),startDate=_useState2[0],setStartDate=_useState2[1],_useState3=Object(react.useState)(new Date),_useState4=Object(slicedToArray.a)(_useState3,2),finishDate=_useState4[0],setFinishDate=_useState4[1],save=function(){var _ref2=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,createTimelog({startDate:startDate,finishDate:finishDate});case 2:toggle();case 3:case"end":return _context.stop()}},_callee)}));return function save(){return _ref2.apply(this,arguments)}}();return react_default.a.createElement(Modal.a,{isOpen:isOpen,toggle:toggle},react_default.a.createElement(ModalHeader.a,{toggle:toggle},"Create timelog"),react_default.a.createElement(ModalBody.a,{className:"d-flex"},react_default.a.createElement(Container.a,null,react_default.a.createElement(Label.a,null,"Start"),react_default.a.createElement(react_datepicker_es.a,Object.assign({"data-testid":"start-date",selected:startDate,onChange:setStartDate},datePickerOptions))),react_default.a.createElement(Container.a,null,react_default.a.createElement(Label.a,null,"Finish"),react_default.a.createElement(react_datepicker_es.a,Object.assign({"data-testid":"finish-date",selected:finishDate,onChange:setFinishDate},datePickerOptions)))),react_default.a.createElement(ModalFooter.a,null,react_default.a.createElement(Container.a,{className:"d-flex justify-content-end"},react_default.a.createElement(Button.a,{"data-testid":"save",color:"primary",onClick:save},"Save"))))},components_TimelogModal=TimelogModal_TimelogModal;TimelogModal_TimelogModal.__docgenInfo={description:"",methods:[],displayName:"TimelogModal"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/task/components/TimelogModal.js"]={name:"TimelogModal",docgenInfo:TimelogModal_TimelogModal.__docgenInfo,path:"src/app/tasks/task/components/TimelogModal.js"});var OptionsDropdown_OptionsDropdown=function OptionsDropdown(_ref){var cloneTask=_ref.cloneTask,deleteTask=_ref.deleteTask,createTimelog=_ref.createTimelog,_useState=Object(react.useState)(!1),_useState2=Object(slicedToArray.a)(_useState,2),open=_useState2[0],_toggle=_useState2[1],_useState3=Object(react.useState)(!1),_useState4=Object(slicedToArray.a)(_useState3,2),modal=_useState4[0],setModal=_useState4[1];return react_default.a.createElement(Dropdown.a,{isOpen:open,toggle:function toggle(){return _toggle(!open)}},react_default.a.createElement(DropdownToggle.a,{tag:"span","data-toggle":"dropdown"},react_default.a.createElement(index_esm.a,{size:"2em",style:{cursor:"pointer",verticalAlign:"middle"}})),react_default.a.createElement(DropdownMenu.a,null,react_default.a.createElement(DropdownItem.a,{"data-testid":"timelog",onClick:function onClick(){return setModal(!0)}},react_default.a.createElement("div",null,"Add timelog"),react_default.a.createElement(components_TimelogModal,{"data-testid":"timelog-modal",isOpen:modal,toggle:function toggle(){return setModal(!modal)},createTimelog:createTimelog})),react_default.a.createElement(DropdownItem.a,{"data-testid":"clone",onClick:cloneTask},react_default.a.createElement("div",null,"Clone")),react_default.a.createElement(DropdownItem.a,{"data-testid":"delete",onClick:deleteTask},react_default.a.createElement("div",{className:"text-danger"},"Delete"))))},components_OptionsDropdown=OptionsDropdown_OptionsDropdown;OptionsDropdown_OptionsDropdown.__docgenInfo={description:"",methods:[],displayName:"OptionsDropdown"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/task/components/OptionsDropdown.js"]={name:"OptionsDropdown",docgenInfo:OptionsDropdown_OptionsDropdown.__docgenInfo,path:"src/app/tasks/task/components/OptionsDropdown.js"});var toConsumableArray=__webpack_require__(42),Creatable=__webpack_require__(541),Creatable_default=__webpack_require__.n(Creatable),TagSelect_tagsToOptions=function tagsToOptions(tags){return tags.reduce(function(acc,curr){return[].concat(Object(toConsumableArray.a)(acc),[{value:curr.id,label:curr.name}])},[])},TagSelect_optionsToIds=function optionsToIds(options){return options.reduce(function(acc,curr){return[].concat(Object(toConsumableArray.a)(acc),[{id:curr.value}])},[])},TagSelect_TagSelect=function TagSelect(_ref){var _ref$tags=_ref.tags,tags=void 0===_ref$tags?[]:_ref$tags,loading=_ref.loading,_ref$selected=_ref.selected,selected=void 0===_ref$selected?[]:_ref$selected,_onChange=_ref.onChange;return react_default.a.createElement(Creatable_default.a,{isMulti:!0,isLoading:loading,options:TagSelect_tagsToOptions(tags),value:TagSelect_tagsToOptions(selected),onChange:function onChange(options){return _onChange({set:TagSelect_optionsToIds(options)})},onCreateOption:function onCreateOption(name){_onChange({create:[{name:name,user:{connect:{id:Object(utils.b)()}}}]})}})},components_TagSelect=TagSelect_TagSelect;TagSelect_TagSelect.__docgenInfo={description:"",methods:[],displayName:"TagSelect"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/task/components/TagSelect.js"]={name:"TagSelect",docgenInfo:TagSelect_TagSelect.__docgenInfo,path:"src/app/tasks/task/components/TagSelect.js"});var containers_TagSelect=Object(react_apollo_esm.c)(queries.b,{options:{variables:Object(utils.e)()},props:function props(_ref){var _ref$data=_ref.data,_ref$data$tags=_ref$data.tags;return{tags:void 0===_ref$data$tags?[]:_ref$data$tags,loading:_ref$data.loading}}})(components_TagSelect),react_select_esm=__webpack_require__(542),RepeatSelect_options=[{value:"",label:""},{value:0,label:"0"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"}],styles={dropdownIndicator:function dropdownIndicator(provided){return Object(objectSpread.a)({},provided,{display:"none"})},indicatorSeparator:function indicatorSeparator(provided){return Object(objectSpread.a)({},provided,{display:"none"})}},RepeatSelect_RepeatSelect=function RepeatSelect(_ref){var _onChange=_ref.onChange,_ref$repeat=_ref.repeat,repeat=void 0===_ref$repeat?"":_ref$repeat;return react_default.a.createElement(react_select_esm.a,{options:RepeatSelect_options,value:{value:repeat,label:repeat},onChange:function onChange(_ref2){var value=_ref2.value;return _onChange(value)},styles:styles})},components_RepeatSelect=RepeatSelect_RepeatSelect;RepeatSelect_RepeatSelect.__docgenInfo={description:"",methods:[],displayName:"RepeatSelect"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/task/components/RepeatSelect.js"]={name:"RepeatSelect",docgenInfo:RepeatSelect_RepeatSelect.__docgenInfo,path:"src/app/tasks/task/components/RepeatSelect.js"});var PrioritySelect_PrioritySelect=function PrioritySelect(_ref){var priority=_ref.priority,_onChange=_ref.onChange,priorities=[1,2,3,4,5].reduce(function(acc,curr){return[].concat(Object(toConsumableArray.a)(acc),[curr+".1",curr+".2",curr+".3",curr+".4",curr+".5"])},[]);return react_default.a.createElement(Input.a,{"data-testid":"select-priority",type:"select",value:priority,onChange:function onChange(e){return _onChange(e.target.value)}},priorities.map(function(p,key){return react_default.a.createElement("option",{key:key},p)}),react_default.a.createElement("option",null,"No Priority"))},components_PrioritySelect=PrioritySelect_PrioritySelect;PrioritySelect_PrioritySelect.__docgenInfo={description:"",methods:[],displayName:"PrioritySelect"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/task/components/PrioritySelect.js"]={name:"PrioritySelect",docgenInfo:PrioritySelect_PrioritySelect.__docgenInfo,path:"src/app/tasks/task/components/PrioritySelect.js"});var react_contenteditable=__webpack_require__(543),react_contenteditable_default=__webpack_require__.n(react_contenteditable),styled_components_browser_esm=__webpack_require__(20);function ContentEditableOnBlur_templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n  width: 100%;\n  transition: 0.3s all;\n  outline: none;\n  overflow: hidden;\n  white-space: nowrap;\n"]);return ContentEditableOnBlur_templateObject=function _templateObject(){return data},data}var StyledContentEditable=Object(styled_components_browser_esm.a)(react_contenteditable_default.a)(ContentEditableOnBlur_templateObject()),ContentEditableOnBlur_ContentEditableOnBlur=function ContentEditableOnBlur(_ref){var content=_ref.content,_onBlur=_ref.onBlur,contentEditable=Object(react.useRef)(),_useState=Object(react.useState)(content||""),_useState2=Object(slicedToArray.a)(_useState,2),currentContent=_useState2[0],setCurrentContent=_useState2[1];return react_default.a.createElement(StyledContentEditable,{innerRef:contentEditable,html:currentContent,disabled:!1,onChange:function onChange(e){return setCurrentContent(e.target.value)},onBlur:function onBlur(){return _onBlur(contentEditable.current.innerHTML)}})},components_ContentEditableOnBlur=ContentEditableOnBlur_ContentEditableOnBlur;ContentEditableOnBlur_ContentEditableOnBlur.__docgenInfo={description:"",methods:[],displayName:"ContentEditableOnBlur"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/shared/components/ContentEditableOnBlur.js"]={name:"ContentEditableOnBlur",docgenInfo:ContentEditableOnBlur_ContentEditableOnBlur.__docgenInfo,path:"src/app/tasks/shared/components/ContentEditableOnBlur.js"});var Popover=__webpack_require__(1141),PopoverBody=__webpack_require__(1142);function CommentsPopover_templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n  cursor: pointer;\n  &:focus {\n    box-shadow: none;\n  }\n"]);return CommentsPopover_templateObject=function _templateObject(){return data},data}var StyledButton=Object(styled_components_browser_esm.a)(Button.a)(CommentsPopover_templateObject()),CommentsPopover_CommentsPopover=function CommentsPopover(_ref){var rowId=_ref.rowId,comments=_ref.comments,onChange=_ref.onChange,_useState=Object(react.useState)(!1),_useState2=Object(slicedToArray.a)(_useState,2),open=_useState2[0],toggle=_useState2[1],_useState3=Object(react.useState)(comments||""),_useState4=Object(slicedToArray.a)(_useState3,2),value=_useState4[0],setValue=_useState4[1],inputRef=Object(react.useRef)();return react_default.a.createElement("div",null,react_default.a.createElement(StyledButton,{"data-testid":"comments-button",outline:!0,color:"link",id:"popover-"+rowId},comments?react_default.a.createElement(index_esm.j,null):react_default.a.createElement(index_esm.h,null)),react_default.a.createElement(Popover.a,{placement:"left",isOpen:open,target:"popover-"+rowId,toggle:function onToggle(){open&&comments!==value&&onChange(value),toggle(!open),!open&&inputRef.current.focus()},trigger:"legacy"},react_default.a.createElement(PopoverBody.a,null,react_default.a.createElement(Input.a,{innerRef:inputRef,type:"textarea",name:"text",value:value,onChange:function onChange(e){return setValue(e.target.value)}}))))},components_CommentsPopover=CommentsPopover_CommentsPopover;CommentsPopover_CommentsPopover.__docgenInfo={description:"",methods:[],displayName:"CommentsPopover"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/task/components/CommentsPopover.js"]={name:"CommentsPopover",docgenInfo:CommentsPopover_CommentsPopover.__docgenInfo,path:"src/app/tasks/task/components/CommentsPopover.js"});var moment=__webpack_require__(25),SimpleDatePicker_CustomInput=function CustomInput(_ref){var onClick=_ref.onClick,value=_ref.value;return react_default.a.createElement(Input.a,{onClick:onClick,defaultValue:value})},SimpleDatePicker_SimpleDatePicker=function SimpleDatePicker(_ref2){var selected=_ref2.selected,_onChange=_ref2.onChange;return react_default.a.createElement(react_datepicker_es.a,{selected:new Date(selected),onChange:function onChange(date){return _onChange(moment(date).format())},customInput:react_default.a.createElement(SimpleDatePicker_CustomInput,null)})},components_SimpleDatePicker=SimpleDatePicker_SimpleDatePicker;function Checkbox_templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\theight: 1rem;\n\twidth: 1rem;\n\tbackground: white;\n\t-webkit-appearance: none;\n\t-moz-appearance: none;\n\tborder: 1px solid #ccc;\n\tmargin: auto;\n\tposition: relative;\n\tvertical-align: middle;\n\n\t&:focus {\n\t\toutline: none;\n\t}\n\n\t&:checked {\n\t\toutline: none;\n\t\tbackground: #ccc;\n\t}\n"]);return Checkbox_templateObject=function _templateObject(){return data},data}SimpleDatePicker_SimpleDatePicker.__docgenInfo={description:"",methods:[],displayName:"SimpleDatePicker"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/shared/components/SimpleDatePicker.js"]={name:"SimpleDatePicker",docgenInfo:SimpleDatePicker_SimpleDatePicker.__docgenInfo,path:"src/app/tasks/shared/components/SimpleDatePicker.js"});var StyledCheckbox=styled_components_browser_esm.a.input(Checkbox_templateObject()),Checkbox_Checkbox=function Checkbox(props){return react_default.a.createElement(StyledCheckbox,Object.assign({type:"checkbox"},props))},components_Checkbox=Checkbox_Checkbox;Checkbox_Checkbox.__docgenInfo={description:"",methods:[],displayName:"Checkbox"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/shared/components/Checkbox.js"]={name:"Checkbox",docgenInfo:Checkbox_Checkbox.__docgenInfo,path:"src/app/tasks/shared/components/Checkbox.js"});var TaskListRenderProps_TaskListRenderProps=function TaskListRenderProps(_ref){var tasks=_ref.tasks,loading=_ref.loading,updateTask=_ref.updateTask,completeTask=_ref.completeTask,_deleteTask=_ref.deleteTask,_createTimelog=_ref.createTimelog,startTimelog=_ref.startTimelog,_cloneTask=_ref.cloneTask;return react_default.a.createElement(components_TaskList,{tasks:tasks,loading:loading,startTimelog:startTimelog,renderCheckbox:function renderCheckbox(task){return react_default.a.createElement(components_Checkbox,{"data-testid":"checkbox",checked:task.completed||!1,onChange:function onChange(){return completeTask(task.id)}})},renderNameInput:function renderNameInput(task){return react_default.a.createElement(components_ContentEditableOnBlur,{key:task.id,content:task.name,onBlur:function onBlur(name){return updateTask({id:task.id,name:name})}})},renderTimelogList:function renderTimelogList(taskId){return react_default.a.createElement(containers_TimelogList,{taskId:taskId})},renderOptionsDropdown:function renderOptionsDropdown(id){return react_default.a.createElement(components_OptionsDropdown,{deleteTask:function deleteTask(){return _deleteTask(id)},cloneTask:function cloneTask(){return _cloneTask(id)},createTimelog:function createTimelog(data){return _createTimelog(Object(objectSpread.a)({id:id},data))}})},renderTagSelect:function renderTagSelect(task){return react_default.a.createElement(containers_TagSelect,{selected:task.tags,onChange:function onChange(tags){return updateTask({id:task.id,tags:tags})}})},renderRepeatSelect:function renderRepeatSelect(task){return react_default.a.createElement(components_RepeatSelect,{repeat:task.repeat,onChange:function onChange(repeat){return updateTask({id:task.id,repeat:repeat})}})},renderSubprojectSelect:function renderSubprojectSelect(task){return react_default.a.createElement(containers_SubprojectSelect,{subproject:task.subproject,onChange:function onChange(_ref2){var _ref2$id=_ref2.id,id=void 0===_ref2$id?null:_ref2$id;return updateTask({id:task.id,subproject:id?{connect:{id:id}}:{disconnect:!0}})}})},renderPrioritySelect:function renderPrioritySelect(task){return react_default.a.createElement(components_PrioritySelect,{priority:task.priority||"No Priority",onChange:function onChange(priority){return updateTask({id:task.id,priority:priority})}})},renderEstimateTimeInput:function renderEstimateTimeInput(task){return react_default.a.createElement(components_ContentEditableOnBlur,{content:task.estimateTime,onBlur:function onBlur(estimateTime){return updateTask({id:task.id,estimateTime:estimateTime})}})},renderPlannedTimeInput:function renderPlannedTimeInput(task){return react_default.a.createElement(components_ContentEditableOnBlur,{content:task.plannedTime,onBlur:function onBlur(plannedTime){return updateTask({id:task.id,plannedTime:plannedTime})}})},renderPlannedDatePicker:function renderPlannedDatePicker(task){return react_default.a.createElement(components_SimpleDatePicker,{selected:task.plannedDate,onChange:function onChange(plannedDate){return updateTask({id:task.id,plannedDate:plannedDate})}})},renderDeadlineDatePicker:function renderDeadlineDatePicker(task){return react_default.a.createElement(components_SimpleDatePicker,{selected:task.deadlineDate,onChange:function onChange(plannedDate){return updateTask({id:task.id,plannedDate:plannedDate})}})},renderCommentsPopover:function renderCommentsPopover(task){return react_default.a.createElement(components_CommentsPopover,{rowId:task.id,comments:task.comments,onChange:function onChange(comments){return updateTask({id:task.id,comments:comments})}})}})};__webpack_exports__.a=TaskListRenderProps_TaskListRenderProps;TaskListRenderProps_TaskListRenderProps.__docgenInfo={description:"",methods:[],displayName:"TaskListRenderProps"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/task/components/TaskListRenderProps.js"]={name:"TaskListRenderProps",docgenInfo:TaskListRenderProps_TaskListRenderProps.__docgenInfo,path:"src/app/tasks/task/components/TaskListRenderProps.js"})},249:function(module,__webpack_exports__,__webpack_require__){"use strict";var objectSpread=__webpack_require__(31),taggedTemplateLiteral=__webpack_require__(4),react=__webpack_require__(1),react_default=__webpack_require__.n(react),Button=__webpack_require__(124),Badge=__webpack_require__(1144),ListGroupItem=__webpack_require__(1145),ListGroup=__webpack_require__(1146),utils=__webpack_require__(26),slicedToArray=__webpack_require__(15),Popover=__webpack_require__(1141),PopoverBody=__webpack_require__(1142),Input=__webpack_require__(153),TimelogEditPopover_TimelogEditPopover=function TimelogEditPopover(_ref){var firstInputRef=_ref.firstInputRef,popoverTarget=_ref.popoverTarget,isOpen=_ref.isOpen,onToggle=_ref.onToggle,startTimeValue=_ref.startTimeValue,setStartTimeValue=_ref.setStartTimeValue,finishTimeValue=_ref.finishTimeValue,setFinishTimeValue=_ref.setFinishTimeValue;return react_default.a.createElement(Popover.a,{placement:"top",isOpen:isOpen,target:popoverTarget,toggle:onToggle,trigger:"legacy"},react_default.a.createElement(PopoverBody.a,null,react_default.a.createElement(Input.a,{"data-testid":"first-input",className:"mb-1",innerRef:firstInputRef,value:startTimeValue,onChange:function onChange(e){return setStartTimeValue(e.target.value)}}),react_default.a.createElement(Input.a,{"data-testid":"last-input",value:finishTimeValue,onChange:function onChange(e){return setFinishTimeValue(e.target.value)}})))},components_TimelogEditPopover=Object(react.forwardRef)(function(props,ref){return react_default.a.createElement(TimelogEditPopover_TimelogEditPopover,Object.assign({firstInputRef:ref},props))}),styled_components_browser_esm=__webpack_require__(20);function _templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n  padding: 6px 12px;\n  margin: 0 4px;\n  min-width: 120px;\n  cursor: pointer;\n\n  &:hover {\n    background: #e0e0e0;\n  }\n"]);return _templateObject=function _templateObject(){return data},data}var TimelogButton=Object(styled_components_browser_esm.a)(Button.a)(_templateObject()),TimelogInterval_TimelogInterval=function TimelogInterval(_ref){var id=_ref.id,startDate=_ref.startDate,finishDate=_ref.finishDate,onChange=_ref.onChange,_useState=Object(react.useState)(!1),_useState2=Object(slicedToArray.a)(_useState,2),open=_useState2[0],toggle=_useState2[1],_useState3=Object(react.useState)(Object(utils.k)(startDate)),_useState4=Object(slicedToArray.a)(_useState3,2),startTimeValue=_useState4[0],setStartTimeValue=_useState4[1],_useState5=Object(react.useState)(finishDate?Object(utils.k)(finishDate):""),_useState6=Object(slicedToArray.a)(_useState5,2),finishTimeValue=_useState6[0],setFinishTimeValue=_useState6[1],firstInputRef=Object(react.useRef)(null),popoverTarget="timelog-popover-"+id,handleChange=function handleChange(){return onChange({startDate:Object(utils.m)(startDate,startTimeValue),finishDate:finishDate?Object(utils.m)(finishDate,finishTimeValue):null})};return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(TimelogButton,{"data-testid":"timelog-interval",outline:!0,color:"link",id:popoverTarget,type:"button"},Object(utils.l)(startDate,finishDate)),react_default.a.createElement(components_TimelogEditPopover,{ref:firstInputRef,popoverTarget:popoverTarget,isOpen:open,onToggle:function onToggle(){open&&handleChange(),toggle(!open),open||function focusOnInput(){var x=window.scrollX,y=window.scrollY;firstInputRef.current.focus(),window.scrollTo(x,y)}()},startTimeValue:startTimeValue,setStartTimeValue:setStartTimeValue,finishTimeValue:finishTimeValue,setFinishTimeValue:setFinishTimeValue}))},components_TimelogInterval=TimelogInterval_TimelogInterval;TimelogInterval_TimelogInterval.__docgenInfo={description:"",methods:[],displayName:"TimelogInterval"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/timelog/components/TimelogInterval.js"]={name:"TimelogInterval",docgenInfo:TimelogInterval_TimelogInterval.__docgenInfo,path:"src/app/tasks/timelog/components/TimelogInterval.js"});var DropdownToggle=__webpack_require__(1139),Dropdown=__webpack_require__(346),DropdownMenu=__webpack_require__(1138),DropdownItem=__webpack_require__(1137),index_esm=__webpack_require__(36);function OptionsDropdown_templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\tpadding: 4px;\n\tdisplay: flex;\n\talign-self: center;\n"]);return OptionsDropdown_templateObject=function _templateObject(){return data},data}var StyledDropdownToggle=Object(styled_components_browser_esm.a)(DropdownToggle.a)(OptionsDropdown_templateObject()),OptionsDropdown_OptionsDropdown=function OptionsDropdown(_ref){var deleteTimelog=_ref.deleteTimelog,_useState=Object(react.useState)(!1),_useState2=Object(slicedToArray.a)(_useState,2),open=_useState2[0],_toggle=_useState2[1];return react_default.a.createElement(Dropdown.a,{isOpen:open,toggle:function toggle(){return _toggle(!open)}},react_default.a.createElement(StyledDropdownToggle,{tag:"span","data-toggle":"dropdown"},react_default.a.createElement(index_esm.a,{size:"2em",style:{cursor:"pointer",verticalAlign:"middle"}})),react_default.a.createElement(DropdownMenu.a,null,react_default.a.createElement(DropdownItem.a,{"data-testid":"delete",onClick:deleteTimelog},react_default.a.createElement("div",{className:"text-danger"},"Delete"))))},components_OptionsDropdown=OptionsDropdown_OptionsDropdown;OptionsDropdown_OptionsDropdown.__docgenInfo={description:"",methods:[],displayName:"OptionsDropdown"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/timelog/components/OptionsDropdown.js"]={name:"OptionsDropdown",docgenInfo:OptionsDropdown_OptionsDropdown.__docgenInfo,path:"src/app/tasks/timelog/components/OptionsDropdown.js"});var Tooltip=__webpack_require__(1143);function TimelogDescription_templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n  border: none;\n  min-width: 30rem;\n  padding: 0.375rem 0.75rem;\n  margin: 0.25rem;\n  &:focus {\n    box-shadow: none;\n  }\n"]);return TimelogDescription_templateObject=function _templateObject(){return data},data}var Description=Object(styled_components_browser_esm.a)(Input.a)(TimelogDescription_templateObject()),TimelogDescription_TimelogDescription=function TimelogDescription(_ref){var id=_ref.id,description=_ref.description,onChange=_ref.onChange,descriptionRef=Object(react.useRef)(),_useState=Object(react.useState)(description||""),_useState2=Object(slicedToArray.a)(_useState,2),state=_useState2[0],setState=_useState2[1],_useState3=Object(react.useState)(!1),_useState4=Object(slicedToArray.a)(_useState3,2),isTooltipOpen=_useState4[0],setTooltip=_useState4[1];return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(Description,{innerRef:descriptionRef,id:"description-tooltip-".concat(id),"data-testid":"input",value:state,onChange:function onChange(e){return setState(e.target.value)},onBlur:function onBlur(){return onChange(state)}}),react_default.a.createElement(Tooltip.a,{"data-testid":"tooltip",isOpen:isTooltipOpen,toggle:function toggle(){return isTooltipOpen?setTooltip(!1):descriptionRef.current.offsetWidth<descriptionRef.current.scrollWidth&&setTooltip(!0)},placement:"top",target:"description-tooltip-".concat(id)},description))},components_TimelogDescription=TimelogDescription_TimelogDescription;TimelogDescription_TimelogDescription.__docgenInfo={description:"",methods:[],displayName:"TimelogDescription"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/timelog/components/TimelogDescription.js"]={name:"TimelogDescription",docgenInfo:TimelogDescription_TimelogDescription.__docgenInfo,path:"src/app/tasks/timelog/components/TimelogDescription.js"});var TaskListDropdown=__webpack_require__(341);function TaskName_templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\twidth: 8rem;\n\tfont-weight: bold;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\twhite-space: nowrap;\n\tmargin: 0;\n\tpadding: 6px 12px;\n\tcursor: default;\n\tline-height: 1.5;\n\tcursor: pointer;\n"]);return TaskName_templateObject=function _templateObject(){return data},data}var P=styled_components_browser_esm.a.p(TaskName_templateObject()),TaskName_TaskName=function TaskName(_ref){var name=_ref.name,id=_ref.id,_useState=Object(react.useState)(!1),_useState2=Object(slicedToArray.a)(_useState,2),isOpen=_useState2[0],setOpen=_useState2[1],element=Object(react.useRef)(null);return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(P,{className:"mx-2",id:"name-tooltip-".concat(id),"data-testid":"task-name",ref:element},name),react_default.a.createElement(Tooltip.a,{"data-testid":"tooltip",placement:"top",isOpen:isOpen,toggle:function toggle(){return isOpen?setOpen(!1):element.current.offsetWidth<element.current.scrollWidth&&setOpen(!0)},target:"name-tooltip-".concat(id)},name))},components_TaskName=TaskName_TaskName;TaskName_TaskName.__docgenInfo={description:"",methods:[],displayName:"TaskName"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/timelog/task-name/components/TaskName.js"]={name:"TaskName",docgenInfo:TaskName_TaskName.__docgenInfo,path:"src/app/tasks/timelog/task-name/components/TaskName.js"});var task_name_TaskNameWithDropdown=function TaskNameWithDropdown(_ref){var timelogId=_ref.timelogId,name=_ref.name;return react_default.a.createElement(TaskListDropdown.a,{timelogId:timelogId,ToggleElement:function ToggleElement(){return react_default.a.createElement(components_TaskName,{name:name,id:timelogId})}})},task_name=task_name_TaskNameWithDropdown;function _templateObject3(){var data=Object(taggedTemplateLiteral.a)(["\n\tpadding: 0;\n\theight: 42px;\n"]);return _templateObject3=function _templateObject3(){return data},data}function _templateObject2(){var data=Object(taggedTemplateLiteral.a)(["\n\tpadding: 0.5rem 0.75rem;\n\tline-height: 1.5;\n\tmargin: auto;\n\tmin-width: 80px;\n\theight: 2rem;\n\tcursor: default;\n\tvertical-align: middle;\n"]);return _templateObject2=function _templateObject2(){return data},data}function TimelogList_templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\tmargin: 0 4px;\n\tmin-width: 120px;\n\t&:focus {\n\t\tbox-shadow: none;\n\t}\n"]);return TimelogList_templateObject=function _templateObject(){return data},data}task_name_TaskNameWithDropdown.__docgenInfo={description:"",methods:[],displayName:"TaskNameWithDropdown"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/timelog/task-name/index.js"]={name:"TaskNameWithDropdown",docgenInfo:task_name_TaskNameWithDropdown.__docgenInfo,path:"src/app/tasks/timelog/task-name/index.js"});var DateButton=Object(styled_components_browser_esm.a)(Button.a)(TimelogList_templateObject()),TimeBadge=Object(styled_components_browser_esm.a)(Badge.a)(_templateObject2()),StyledListGroupItem=Object(styled_components_browser_esm.a)(ListGroupItem.a)(_templateObject3()),TimelogList_TimelogList=function TimelogList(_ref){var timelogs=_ref.timelogs,updateTimelog=_ref.updateTimelog,_deleteTimelog=_ref.deleteTimelog;return react_default.a.createElement(ListGroup.a,{"data-testid":"timelog-ul"},timelogs.map(function(_ref2){var id=_ref2.id,description=_ref2.description,startDate=_ref2.startDate,finishDate=_ref2.finishDate,_ref2$task=_ref2.task,task=void 0===_ref2$task?{}:_ref2$task;return react_default.a.createElement(StyledListGroupItem,{action:!0,key:id,className:"d-flex justify-content-end"},react_default.a.createElement(components_TimelogDescription,{id:id,description:description,onChange:function onChange(description){return updateTimelog({id:id,description:description})}}),react_default.a.createElement(task_name,{timelogId:id,name:task.name}),react_default.a.createElement(DateButton,{outline:!0,color:"link",type:"button"},Object(utils.h)(startDate)),react_default.a.createElement(components_TimelogInterval,{id:id,onChange:function onChange(variables){return updateTimelog(Object(objectSpread.a)({id:id},variables))},startDate:startDate,finishDate:finishDate}),react_default.a.createElement(TimeBadge,null,finishDate?Object(utils.b)(startDate,finishDate):"pending"),react_default.a.createElement(components_OptionsDropdown,{deleteTimelog:function deleteTimelog(){return _deleteTimelog(id)}}))}))};__webpack_exports__.a=TimelogList_TimelogList;TimelogList_TimelogList.__docgenInfo={description:"",methods:[],displayName:"TimelogList"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/timelog/components/TimelogList.js"]={name:"TimelogList",docgenInfo:TimelogList_TimelogList.__docgenInfo,path:"src/app/tasks/timelog/components/TimelogList.js"})},250:function(module,__webpack_exports__,__webpack_require__){"use strict";var react=__webpack_require__(1),react_default=__webpack_require__.n(react),react_apollo_esm=__webpack_require__(9),slicedToArray=__webpack_require__(15),taggedTemplateLiteral=__webpack_require__(4);var Input=__webpack_require__(153),Button=__webpack_require__(124),index_esm=__webpack_require__(36),utils=__webpack_require__(26),styled_components_browser_esm=__webpack_require__(20),Container=__webpack_require__(1130);function _templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\tbackground: #fafafa;\n\tbox-shadow: rgba(0, 0, 0, 0.13) 0px 2px 6px 0px;\n"]);return _templateObject=function _templateObject(){return data},data}var ShadowContainer=Object(styled_components_browser_esm.a)(Container.a)(_templateObject()),TimerLayout_TimerLayout=function TimerLayout(_ref){var taskName=_ref.taskName,duration=_ref.duration,actionButton=_ref.actionButton,timelogDescription=_ref.timelogDescription;return react_default.a.createElement(ShadowContainer,{fluid:!0,className:"py-2 mb-2 d-flex"},react_default.a.createElement(Container.a,{fluid:!0,className:"px-0 d-flex"},react_default.a.createElement(Container.a,{fluid:!0,className:"pl-0 col-9"},timelogDescription),react_default.a.createElement(Container.a,{fluid:!0,className:"pl-0"},taskName)),react_default.a.createElement(Container.a,{className:"container px-0",style:{width:"auto"}},duration),react_default.a.createElement(Container.a,{className:"container pr-0 d-flex justify-content-end",style:{width:"auto"}},actionButton))},layouts_TimerLayout=TimerLayout_TimerLayout;function TaskTimer_templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\tborder: none;\n\tmargin: 0;\n\tuser-select: none;\n\tbackground-color: ","\n\t&:focus {\n\t\toutline: none;\n\t\tbox-shadow: none;\n\t\tbackground-color: ","\n\t}\n"]);return TaskTimer_templateObject=function _templateObject(){return data},data}TimerLayout_TimerLayout.__docgenInfo={description:"",methods:[],displayName:"TimerLayout"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/timer/layouts/TimerLayout.js"]={name:"TimerLayout",docgenInfo:TimerLayout_TimerLayout.__docgenInfo,path:"src/app/tasks/timer/layouts/TimerLayout.js"});var StyledInput=Object(styled_components_browser_esm.a)(Input.a)(TaskTimer_templateObject(),function(props){return props.color?props.color:"#fff"},function(props){return props.color?props.color:"#fff"}),iconStyle={cursor:"pointer",height:"100%"},TaskTimer_getDuration=function getDuration(startDate){return startDate?Object(utils.e)(startDate):"00:00:00"},TaskTimer_TaskTimer=function TaskTimer(_ref){var task=_ref.task,timelogDescription=_ref.timelogDescription,startDate=_ref.startDate,timelogId=_ref.timelogId,createTimelogWithTask=(_ref.loading,_ref.createTimelogWithTask),stopTimelog=_ref.stopTimelog,updateTask=_ref.updateTask,_useState=Object(react.useState)(startDate),_useState2=Object(slicedToArray.a)(_useState,2),date=_useState2[0],setDate=_useState2[1],_useState3=Object(react.useState)(TaskTimer_getDuration(startDate)),_useState4=Object(slicedToArray.a)(_useState3,2),time=_useState4[0],setTime=_useState4[1],_useState5=Object(react.useState)(""),_useState6=Object(slicedToArray.a)(_useState5,2),name=_useState6[0],setName=_useState6[1],_useState7=Object(react.useState)(""),_useState8=Object(slicedToArray.a)(_useState7,2),description=_useState8[0],setDescription=_useState8[1];Object(react.useEffect)(function(){setName(task?task.name:"(no name)")},[task]),Object(react.useEffect)(function(){setDate(startDate)},[startDate]),Object(react.useEffect)(function(){setDescription(timelogDescription||"")},[timelogId]),function useInterval(callback,delay){var savedCallback=Object(react.useRef)();Object(react.useEffect)(function(){savedCallback.current=callback},[callback]),Object(react.useEffect)(function(){if(null!==delay){var id=setInterval(function tick(){savedCallback.current()},delay);return function(){return clearInterval(id)}}},[delay])}(function(){setTime(TaskTimer_getDuration(date))},500);var onTimerStart=function onTimerStart(){return!timelogId&&function startOptimistic(){createTimelogWithTask({description:description,task:{name:name}}),setDate(utils.d)}()},onTimerUpdate=function onTimerUpdate(){return timelogId&&updateTask({id:task.id,name:name,timelog:{id:timelogId,description:description}})};return react_default.a.createElement(layouts_TimerLayout,{timelogDescription:react_default.a.createElement(StyledInput,{"data-testid":"description",value:description,placeholder:"Timelog description",onChange:function onChange(e){return setDescription(e.target.value)},onBlur:onTimerUpdate,onKeyDown:function onKeyDown(e){return"Enter"===e.key&&onTimerStart()}}),taskName:react_default.a.createElement(StyledInput,{color:"#fafafa","data-testid":"name",value:name,placeholder:"Task name",onChange:function onChange(e){return setName(e.target.value)},onBlur:onTimerUpdate,onKeyDown:function onKeyDown(e){return"Enter"===e.key&&onTimerStart()}}),duration:react_default.a.createElement(Button.a,{"data-testid":"time",outline:!0,color:"link",style:{border:"none",background:"white"}},time),actionButton:time&&date?react_default.a.createElement(index_esm.k,{"data-testid":"stop-button",size:"2em",onClick:function stopOptimistic(){stopTimelog(timelogId),setDate(null),setTime(TaskTimer_getDuration(null))},style:iconStyle,color:"red"}):react_default.a.createElement(index_esm.f,{"data-testid":"start-button",size:"2em",onClick:onTimerStart,style:iconStyle,color:"#00CC00"})})},components_TaskTimer=TaskTimer_TaskTimer;TaskTimer_TaskTimer.__docgenInfo={description:"",methods:[],displayName:"TaskTimer"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/timer/components/TaskTimer.js"]={name:"TaskTimer",docgenInfo:TaskTimer_TaskTimer.__docgenInfo,path:"src/app/tasks/timer/components/TaskTimer.js"});var queries=__webpack_require__(112),graphql_queries=__webpack_require__(54),src=__webpack_require__(11),src_default=__webpack_require__.n(src),fragments=__webpack_require__(24);function _templateObject3(){var data=Object(taggedTemplateLiteral.a)(["\n\tmutation UpdateTask(\n\t\t$data: TaskUpdateInput!\n\t\t$where: TaskWhereUniqueInput!\n\t) {\n\t\tupdateTask(data: $data, where: $where) {\n\t\t\tid\n\t\t\tname\n\t\t\ttimelogs {\n\t\t\t\t...timelog\n\t\t\t}\n\t\t}\n\t}\n\t","\n"]);return _templateObject3=function _templateObject3(){return data},data}function _templateObject2(){var data=Object(taggedTemplateLiteral.a)(["\n\tmutation StopTimelog($where: TimelogWhereUniqueInput!) {\n\t\tstopTimelog(where: $where) {\n\t\t\tid\n\t\t\tfinishDate\n\t\t}\n\t}\n"]);return _templateObject2=function _templateObject2(){return data},data}function mutations_templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\tmutation CreateTimelogWithTask($data: TimelogCreateInput!) {\n\t\tcreateTimelog(data: $data) {\n\t\t\t...timelog\n\t\t\ttask {\n\t\t\t\t...task\n\t\t\t}\n\t\t}\n\t}\n\t","\n\t","\n"]);return mutations_templateObject=function _templateObject(){return data},data}var CREATE_TIMELOG_WITH_TASK=src_default()(mutations_templateObject(),fragments.d,fragments.e),STOP_TIMELOG=src_default()(_templateObject2()),UPDATE_TASK=src_default()(_templateObject3(),fragments.e),uuidv4=__webpack_require__(146),uuidv4_default=__webpack_require__.n(uuidv4),graphql_utils=__webpack_require__(19),queryActiveTimelog=Object(react_apollo_esm.c)(queries.a,{props:function props(_ref){var _ref$data=_ref.data,_ref$data$activeTimel=_ref$data.activeTimelog,activeTimelog=void 0===_ref$data$activeTimel?{}:_ref$data$activeTimel,loading=_ref$data.loading;return{startDate:activeTimelog?activeTimelog.startDate:null,timelogDescription:activeTimelog?activeTimelog.description:null,timelogId:activeTimelog?activeTimelog.id:null,task:activeTimelog?activeTimelog.task:null,loading:loading}}}),TaskTimer_getCreateTimelogWithTaskOptimisticResponse=function getCreateTimelogWithTaskOptimisticResponse(timelog){return{createTimelog:{id:uuidv4_default()(),description:timelog.description,startDate:Object(utils.d)(),finishDate:null,task:{id:uuidv4_default()(),name:timelog.task.name,completed:!1,priority:null,comments:"",repeat:null,estimateTime:null,plannedTime:null,plannedDate:null,finishDate:null,deadlineDate:null,timelogs:[],subproject:null,tags:[],latestTimelogStartDate:null,timelogCount:null,statusTime:null,__typename:"Task"},__typename:"Timelog"}}},TaskTimer_createTimelogWithTask=Object(react_apollo_esm.c)(CREATE_TIMELOG_WITH_TASK,{props:function props(_ref2){var mutate=_ref2.mutate;return{createTimelogWithTask:function createTimelogWithTask(timelog){return mutate({variables:{data:{task:{create:{name:timelog.task.name,user:{connect:{id:Object(graphql_utils.b)()}}}},startDate:Object(utils.d)(),description:timelog.description}},optimisticResponse:TaskTimer_getCreateTimelogWithTaskOptimisticResponse(timelog),update:function update(proxy,_ref3){var createTimelog=_ref3.data.createTimelog;return proxy.writeQuery({query:queries.a,variables:Object(graphql_utils.e)(),data:{activeTimelog:createTimelog}})}})}}}}),TaskTimer_updateTask=Object(react_apollo_esm.c)(UPDATE_TASK,{props:function props(_ref4){var mutate=_ref4.mutate;return{updateTask:function updateTask(_ref5){var id=_ref5.id,name=_ref5.name,timelog=_ref5.timelog;return mutate({variables:{data:{name:name,timelogs:{update:[{where:{id:timelog.id},data:{description:timelog.description}}]}},where:{id:id}}})}}}}),TaskTimer_stopTimelog=Object(react_apollo_esm.c)(STOP_TIMELOG,{props:function props(_ref6){var mutate=_ref6.mutate;return{stopTimelog:function stopTimelog(id){return mutate({variables:{where:{id:id}},update:function update(proxy){return proxy.writeQuery({query:queries.a,data:{activeTimelog:null,stopTimelog:{id:uuidv4_default()(),finishDate:Object(utils.g)()}}})},refetchQueries:[{query:graphql_queries.c,variables:Object(graphql_utils.e)()}]})}}}}),containers_TaskTimer=Object(react_apollo_esm.b)(queryActiveTimelog,TaskTimer_createTimelogWithTask,TaskTimer_updateTask,TaskTimer_stopTimelog)(components_TaskTimer);__webpack_exports__.a=function WithTimer(Component){return function(props){return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(containers_TaskTimer,null),react_default.a.createElement(Component,props))}}},26:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",function(){return getDurationFromDate}),__webpack_require__.d(__webpack_exports__,"a",function(){return convertMillisecondsToTime}),__webpack_require__.d(__webpack_exports__,"i",function(){return groupListByProperty}),__webpack_require__.d(__webpack_exports__,"j",function(){return reduceTimeByProperty}),__webpack_require__.d(__webpack_exports__,"c",function(){return getDateFromDateTime}),__webpack_require__.d(__webpack_exports__,"h",function(){return getWeekdayMonthdayDate}),__webpack_require__.d(__webpack_exports__,"d",function(){return getDateTime}),__webpack_require__.d(__webpack_exports__,"g",function(){return getTodayDate}),__webpack_require__.d(__webpack_exports__,"b",function(){return duration}),__webpack_require__.d(__webpack_exports__,"l",function(){return timeInterval}),__webpack_require__.d(__webpack_exports__,"f",function(){return getTaskMilliseconds}),__webpack_require__.d(__webpack_exports__,"k",function(){return timeFromDate}),__webpack_require__.d(__webpack_exports__,"m",function(){return updateTimeWithinDate});var _Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(98),_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(42),_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(31),moment__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(25),getDurationFromDate=(__webpack_require__(881),function getDurationFromDate(date){return moment__WEBPACK_IMPORTED_MODULE_3__.utc(moment__WEBPACK_IMPORTED_MODULE_3__.duration(moment__WEBPACK_IMPORTED_MODULE_3__().diff(date)).as("milliseconds")).format("HH:mm:ss")}),convertMillisecondsToTime=function convertMillisecondsToTime(m){return moment__WEBPACK_IMPORTED_MODULE_3__.duration(m,"milliseconds").format("HH:mm:ss",{trim:!1})},groupListByProperty=function groupListByProperty(arr,yieldProperty){return arr.reduce(function(acc,curr){return Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__.a)({},acc,Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},yieldProperty(curr),acc[yieldProperty(curr)]?[].concat(Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__.a)(acc[yieldProperty(curr)]),[curr]):[curr]))},{})},reduceTimeByProperty=function reduceTimeByProperty(arr,property){return arr.reduce(function(acc,curr){return acc.add(moment__WEBPACK_IMPORTED_MODULE_3__.duration(curr[property],"HH:mm:ss"))},moment__WEBPACK_IMPORTED_MODULE_3__.duration(0)).as("milliseconds")},getDateFromDateTime=function getDateFromDateTime(dateTime){return moment__WEBPACK_IMPORTED_MODULE_3__(dateTime).format("YYYY-MM-DD")},getWeekdayMonthdayDate=function getWeekdayMonthdayDate(date){return moment__WEBPACK_IMPORTED_MODULE_3__(date).format("ddd, D MMM")},getDateTime=function getDateTime(){return moment__WEBPACK_IMPORTED_MODULE_3__().format()},getTodayDate=function getTodayDate(){return moment__WEBPACK_IMPORTED_MODULE_3__().format("YYYY-MM-DD")},duration=function duration(startDate,finishDate){return moment__WEBPACK_IMPORTED_MODULE_3__.utc(moment__WEBPACK_IMPORTED_MODULE_3__.duration(moment__WEBPACK_IMPORTED_MODULE_3__(finishDate).diff(moment__WEBPACK_IMPORTED_MODULE_3__(startDate))).as("milliseconds")).format("HH:mm:ss")},timeInterval=function timeInterval(startDate,finishDate){return(startDate?moment__WEBPACK_IMPORTED_MODULE_3__(startDate).format("HH:mm"):"")+" - "+(finishDate?moment__WEBPACK_IMPORTED_MODULE_3__(finishDate).format("HH:mm"):"")},getTaskMilliseconds=function getTaskMilliseconds(timelogs){return timelogs.reduce(function(acc,curr){return acc.add(moment__WEBPACK_IMPORTED_MODULE_3__(curr.finishDate).diff(moment__WEBPACK_IMPORTED_MODULE_3__(curr.startDate)))},moment__WEBPACK_IMPORTED_MODULE_3__.duration(0)).as("milliseconds")},timeFromDate=function timeFromDate(date){return moment__WEBPACK_IMPORTED_MODULE_3__(date).format("HH:mm:ss")},updateTimeWithinDate=function updateTimeWithinDate(date,time){var timeMoment=moment__WEBPACK_IMPORTED_MODULE_3__(time,"HH:mm:ss"),dateMoment=moment__WEBPACK_IMPORTED_MODULE_3__(date);return dateMoment.set({hour:timeMoment.get("hour"),minute:timeMoment.get("minute"),second:timeMoment.get("second")}),dateMoment.format()}},334:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);function _templateObject(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\theight: 66px;\n\tbox-shadow: rgba(0, 0, 0, 0.13) 0px 2px 6px 0px;\n"]);return _templateObject=function _templateObject(){return data},data}var Div=__webpack_require__(20).a.div(_templateObject()),TagHeader=function TagHeader(_ref){var renderActionButton=_ref.renderActionButton;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Div,{className:"container-fluid d-flex flex-row border"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h5",{className:"m-auto font-weight-normal"},"Tags"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"container-fluid d-flex justify-content-end pr-0"},renderActionButton()))};__webpack_exports__.a=TagHeader,TagHeader.__docgenInfo={description:"",methods:[],displayName:"TagHeader"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/tag/components/header/TagHeader.js"]={name:"TagHeader",docgenInfo:TagHeader.__docgenInfo,path:"src/app/tasks/tag/components/header/TagHeader.js"})},337:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),reactstrap__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(153),PropertyInput=function PropertyInput(_ref){var originalValue=_ref.originalValue,property=_ref.property,onChange=_ref.onChange,_useState=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(originalValue||""),_useState2=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState,2),value=_useState2[0],setValue=_useState2[1];return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_2__.a,{"data-testid":"input-"+property,value:value,onChange:function onChange(e){return setValue(e.target.value)},onKeyPress:function onKeyPress(e){13==e.charCode&&onChange(value)},onBlur:function onBlur(){return onChange(value)}})};__webpack_exports__.a=PropertyInput,PropertyInput.__docgenInfo={description:"",methods:[],displayName:"PropertyInput"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/task/components/PropertyInput.js"]={name:"PropertyInput",docgenInfo:PropertyInput.__docgenInfo,path:"src/app/tasks/task/components/PropertyInput.js"})},338:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),reactstrap__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(153),reactstrap__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1129),reactstrap__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1132),react_icons_fa__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(36),styled_components__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(20);function _templateObject(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\t&:focus {\n\t\tbox-shadow: none;\n\t}\n"]);return _templateObject=function _templateObject(){return data},data}var StyledInput=Object(styled_components__WEBPACK_IMPORTED_MODULE_6__.a)(reactstrap__WEBPACK_IMPORTED_MODULE_2__.a)(_templateObject()),SearchInput=function SearchInput(props){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_3__.a,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_4__.a,{addonType:"prepend",className:"px-1 border border-right-0 border-light"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_icons_fa__WEBPACK_IMPORTED_MODULE_5__.i,{color:"grey",className:"h-100"})),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(StyledInput,Object.assign({className:"border-left-0 border-light",bsSize:"sm"},props)))};__webpack_exports__.a=SearchInput,SearchInput.__docgenInfo={description:"",methods:[],displayName:"SearchInput"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/timelog/task-name/components/SearchInput.js"]={name:"SearchInput",docgenInfo:SearchInput.__docgenInfo,path:"src/app/tasks/timelog/task-name/components/SearchInput.js"})},341:function(module,__webpack_exports__,__webpack_require__){"use strict";var objectWithoutProperties=__webpack_require__(35),react=__webpack_require__(1),react_default=__webpack_require__.n(react),react_apollo_esm=__webpack_require__(9),taggedTemplateLiteral=__webpack_require__(4),src=__webpack_require__(11),src_default=__webpack_require__.n(src);function _templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\tquery QueryTasks($where: TaskWhereInput!) {\n\t\ttasks(where: $where) {\n\t\t\tid\n\t\t\tname\n\t\t}\n\t}\n"]);return _templateObject=function _templateObject(){return data},data}var QUERY_TASKS=src_default()(_templateObject()),fragments=__webpack_require__(24);function mutations_templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\tmutation UpdateTimelog(\n\t\t$data: TimelogUpdateInput!\n\t\t$where: TimelogWhereUniqueInput!\n\t) {\n\t\tupdateTimelog(data: $data, where: $where) {\n\t\t\t...timelog\n\t\t\ttask {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t}\n\t\t}\n\t}\n\t","\n"]);return mutations_templateObject=function _templateObject(){return data},data}var UPDATE_TIMELOG=src_default()(mutations_templateObject(),fragments.e),utils=__webpack_require__(19),components_TaskListDropdown=__webpack_require__(342),slicedToArray=__webpack_require__(15),components_FilterController=function FilterController(_ref){var children=_ref.children,_useState=Object(react.useState)(""),_useState2=Object(slicedToArray.a)(_useState,2);return children({filter:_useState2[0],setFilter:_useState2[1]})},TaskListDropdown_TaskListDropdown=function TaskListDropdown(_ref){var tasks=_ref.tasks,props=Object(objectWithoutProperties.a)(_ref,["tasks"]);return react_default.a.createElement(components_FilterController,null,function(_ref2){var filter=_ref2.filter,setFilter=_ref2.setFilter;return react_default.a.createElement(components_TaskListDropdown.a,Object.assign({},props,{tasks:tasks.filter(function(task){return task.name.toLowerCase().includes(filter.toLowerCase())}),filter:filter,onFilterChange:setFilter}))})};__webpack_exports__.a=Object(react_apollo_esm.b)(Object(react_apollo_esm.c)(QUERY_TASKS,{props:function props(_ref3){var _ref3$data$tasks=_ref3.data.tasks;return{tasks:void 0===_ref3$data$tasks?[]:_ref3$data$tasks}},options:{variables:{where:{user:{id:Object(utils.b)()},name_not:""}}}}),Object(react_apollo_esm.c)(UPDATE_TIMELOG,{props:function props(_ref4){var mutate=_ref4.mutate,timelogId=_ref4.ownProps.timelogId;return{onClick:function onClick(taskId){return mutate({variables:{where:{id:timelogId},data:{task:{connect:{id:taskId}}}}})}}}}))(TaskListDropdown_TaskListDropdown);TaskListDropdown_TaskListDropdown.__docgenInfo={description:"",methods:[],displayName:"TaskListDropdown"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/timelog/task-name/containers/TaskListDropdown.js"]={name:"TaskListDropdown",docgenInfo:TaskListDropdown_TaskListDropdown.__docgenInfo,path:"src/app/tasks/timelog/task-name/containers/TaskListDropdown.js"})},342:function(module,__webpack_exports__,__webpack_require__){"use strict";var taggedTemplateLiteral=__webpack_require__(4),react=__webpack_require__(1),react_default=__webpack_require__.n(react),DropdownMenu=__webpack_require__(1138),DropdownItem=__webpack_require__(1137),Dropdown=__webpack_require__(346),DropdownToggle=__webpack_require__(1139),SearchInput=__webpack_require__(338),styled_components_browser_esm=__webpack_require__(20),slicedToArray=__webpack_require__(15),components_WithToggle=function WithToggle(Component){return function(props){var _useState=Object(react.useState)(!1),_useState2=Object(slicedToArray.a)(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];return react_default.a.createElement(Component,Object.assign({},props,{isOpen:isOpen,toggle:function toggle(){return setIsOpen(!isOpen)}}))}};function _templateObject2(){var data=Object(taggedTemplateLiteral.a)(["\n\t&:focus {\n\t\toutline: none;\n\t}\n\t&:active {\n\t\tbackground: none;\n\t}\n"]);return _templateObject2=function _templateObject2(){return data},data}function _templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\tbox-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.13);\n\tborder-radius: 0.5rem;\n\tborder: none;\n\toverflow-y: scroll;\n\theight: 15rem;\n"]);return _templateObject=function _templateObject(){return data},data}var StyledDropdownMenu=Object(styled_components_browser_esm.a)(DropdownMenu.a)(_templateObject()),StyledDropdownItem=Object(styled_components_browser_esm.a)(DropdownItem.a)(_templateObject2()),TaskListDropdown_TaskListDropdown=function TaskListDropdown(_ref){var isOpen=_ref.isOpen,toggle=_ref.toggle,tasks=_ref.tasks,_onClick=_ref.onClick,ToggleElement=_ref.ToggleElement,filter=_ref.filter,onFilterChange=_ref.onFilterChange;return react_default.a.createElement(Dropdown.a,{isOpen:isOpen,toggle:toggle,size:"sm"},react_default.a.createElement(DropdownToggle.a,{tag:"a"},react_default.a.createElement(ToggleElement,null)),react_default.a.createElement(StyledDropdownMenu,null,react_default.a.createElement(DropdownItem.a,{header:!0},react_default.a.createElement(SearchInput.a,{placeholder:"Filter tasks...",value:filter,onChange:function onChange(e){return onFilterChange(e.target.value)}})),tasks.map(function(_ref2){var id=_ref2.id,name=_ref2.name;return react_default.a.createElement(StyledDropdownItem,{"data-testid":"task",key:id,onClick:function onClick(){return _onClick(id)},style:{cursor:"pointer",fontSize:"14px"}},name)})))};__webpack_exports__.a=components_WithToggle(TaskListDropdown_TaskListDropdown);TaskListDropdown_TaskListDropdown.__docgenInfo={description:"",methods:[],displayName:"TaskListDropdown"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/timelog/task-name/components/TaskListDropdown.js"]={name:"TaskListDropdown",docgenInfo:TaskListDropdown_TaskListDropdown.__docgenInfo,path:"src/app/tasks/timelog/task-name/components/TaskListDropdown.js"})},343:function(module,__webpack_exports__,__webpack_require__){"use strict";var slicedToArray=__webpack_require__(15),taggedTemplateLiteral=__webpack_require__(4),react=__webpack_require__(1),react_default=__webpack_require__.n(react),styled_components_browser_esm=__webpack_require__(20),DropdownItem=__webpack_require__(1137),DropdownMenu=__webpack_require__(1138),Dropdown=__webpack_require__(346),DropdownToggle=__webpack_require__(1139),index_esm=__webpack_require__(36);function _templateObject3(){var data=Object(taggedTemplateLiteral.a)(["\n\tbox-shadow: rgba(0, 0, 0, 0.13) 0px 2px 6px 0px;\n\tborder-radius: 8px;\n"]);return _templateObject3=function _templateObject3(){return data},data}function _templateObject2(){var data=Object(taggedTemplateLiteral.a)(["\n\tcursor: pointer;\n\tfont-family: sans-serif;\n"]);return _templateObject2=function _templateObject2(){return data},data}function _templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\tcursor: pointer;\n\tcolor: #ccc;\n"]);return _templateObject=function _templateObject(){return data},data}var Icon=Object(styled_components_browser_esm.a)(index_esm.c)(_templateObject()),Item=Object(styled_components_browser_esm.a)(DropdownItem.a)(_templateObject2()),Menu=Object(styled_components_browser_esm.a)(DropdownMenu.a)(_templateObject3()),OptionsDropdown_OptionsDropdown=function OptionsDropdown(_ref){var onEditClick=_ref.onEditClick,onDeleteClick=_ref.onDeleteClick,_useState=Object(react.useState)(!1),_useState2=Object(slicedToArray.a)(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];return react_default.a.createElement(Dropdown.a,{isOpen:isOpen,toggle:function toggle(){return setIsOpen(!isOpen)}},react_default.a.createElement(DropdownToggle.a,{tag:"div"},react_default.a.createElement(Icon,null)),react_default.a.createElement(Menu,{className:"py-1"},react_default.a.createElement(Item,{className:"px-2",onClick:onEditClick},"Edit"),react_default.a.createElement(Item,{className:"px-2 text-danger",onClick:onDeleteClick},"Delete")))},components_OptionsDropdown=OptionsDropdown_OptionsDropdown;function _templateObject5(){var data=Object(taggedTemplateLiteral.a)(["\n\twidth: 100%;\n\theight: 100%;\n\tbackground-color: ",";\n\tbackground-image: ",";\n\tbackground-size: cover;\n\tbackground-position: center;\n\tborder-radius: 100%;\n"]);return _templateObject5=function _templateObject5(){return data},data}function _templateObject4(){var data=Object(taggedTemplateLiteral.a)(["\n\twidth: 3rem;\n\theight: 3rem;\n\tpadding: 0.5rem !important;\n"]);return _templateObject4=function _templateObject4(){return data},data}function TagRow_templateObject3(){var data=Object(taggedTemplateLiteral.a)(["\n\ttext-align: center;\n\tcolor: #ccc;\n\twidth: 2rem;\n\tcursor: pointer;\n"]);return TagRow_templateObject3=function _templateObject3(){return data},data}function TagRow_templateObject2(){var data=Object(taggedTemplateLiteral.a)(["\n\tcolor: ",";\n"]);return TagRow_templateObject2=function _templateObject2(){return data},data}function TagRow_templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\twidth: 100px;\n\tfont-weight: bold;\n\ttext-align: center;\n"]);return TagRow_templateObject=function _templateObject(){return data},data}OptionsDropdown_OptionsDropdown.__docgenInfo={description:"",methods:[],displayName:"OptionsDropdown"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/tag/components/OptionsDropdown.js"]={name:"OptionsDropdown",docgenInfo:OptionsDropdown_OptionsDropdown.__docgenInfo,path:"src/app/tasks/tag/components/OptionsDropdown.js"});var StatusTd=styled_components_browser_esm.a.td(TagRow_templateObject()),NameTd=styled_components_browser_esm.a.td(TagRow_templateObject2(),function(props){return props.disabled?"#ccc":"black"}),MenuTd=styled_components_browser_esm.a.td(TagRow_templateObject3()),IconTd=styled_components_browser_esm.a.td(_templateObject4()),TagRow_Icon=styled_components_browser_esm.a.div(_templateObject5(),function(props){return props.color},function(props){return props.image?"url(".concat(props.image,")"):"none"}),TagRow_TagRow=function TagRow(_ref){var tag=_ref.tag,onClick=_ref.onClick,disabled=_ref.disabled,renderEditModal=_ref.renderEditModal,renderDeleteModal=_ref.renderDeleteModal,_useState=Object(react.useState)(!1),_useState2=Object(slicedToArray.a)(_useState,2),isEditOpen=_useState2[0],setIsEditOpen=_useState2[1],_useState3=Object(react.useState)(!1),_useState4=Object(slicedToArray.a)(_useState3,2),isDeleteOpen=_useState4[0],setIsDeleteOpen=_useState4[1],toggleEdit=function toggleEdit(){return setIsEditOpen(!isEditOpen)},toggleDelete=function toggleDelete(){return setIsDeleteOpen(!isDeleteOpen)};return react_default.a.createElement("tr",{"data-testid":"row",onClick:onClick},react_default.a.createElement(IconTd,null,react_default.a.createElement(TagRow_Icon,{color:tag.color,image:tag.image})),react_default.a.createElement(NameTd,{disabled:disabled},tag.name),react_default.a.createElement(StatusTd,null,tag.statusTime),react_default.a.createElement(MenuTd,{onClick:function onClick(e){return e.stopPropagation()}},react_default.a.createElement(components_OptionsDropdown,{tag:tag,onEditClick:toggleEdit,onDeleteClick:toggleDelete})),renderEditModal({isOpen:isEditOpen,toggle:toggleEdit}),renderDeleteModal({isOpen:isDeleteOpen,toggle:toggleDelete}))};__webpack_exports__.a=TagRow_TagRow;TagRow_TagRow.__docgenInfo={description:"",methods:[],displayName:"TagRow"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/tag/components/TagRow.js"]={name:"TagRow",docgenInfo:TagRow_TagRow.__docgenInfo,path:"src/app/tasks/tag/components/TagRow.js"})},344:function(module,__webpack_exports__,__webpack_require__){"use strict";var taggedTemplateLiteral=__webpack_require__(4),react=__webpack_require__(1),react_default=__webpack_require__.n(react),Table=__webpack_require__(1140),styled_components_browser_esm=__webpack_require__(20),TagRow=__webpack_require__(343),TagModal=__webpack_require__(234),TagDeleteModal=__webpack_require__(237),react_apollo_esm=__webpack_require__(9),mutations=__webpack_require__(178),containers_TagDeleteModal=Object(react_apollo_esm.c)(mutations.b,{props:function props(_ref){var mutate=_ref.mutate;return{deleteTag:function deleteTag(id){return mutate({variables:{where:{id:id}}})}}}})(TagDeleteModal.a);function _templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\tbackground: white;\n\tmin-width: 230px;\n\tmax-width: 500px;\n\tfont-size: 14px;\n\tborder-radius: 8px;\n\tbox-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.13);\n"]);return _templateObject=function _templateObject(){return data},data}var TableContainer=styled_components_browser_esm.a.div(_templateObject()),TagList_TagList=function TagList(_ref){var tags=_ref.tags,disabled=_ref.disabled,_onClick=_ref.onClick;return react_default.a.createElement(TableContainer,null,react_default.a.createElement(Table.a,{hover:!0},react_default.a.createElement("tbody",null,tags.map(function(tag){return react_default.a.createElement(TagRow.a,{key:tag.id,tag:tag,onClick:function onClick(){return _onClick(tag.id)},disabled:disabled.includes(tag.id),renderEditModal:function renderEditModal(props){return react_default.a.createElement(TagModal.a,Object.assign({tag:tag},props))},renderDeleteModal:function renderDeleteModal(props){return react_default.a.createElement(containers_TagDeleteModal,Object.assign({tag:tag},props))}})}))))};__webpack_exports__.a=TagList_TagList;TagList_TagList.__docgenInfo={description:"",methods:[],displayName:"TagList"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/tag/components/TagList.js"]={name:"TagList",docgenInfo:TagList_TagList.__docgenInfo,path:"src/app/tasks/tag/components/TagList.js"})},53:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return CREATE_TASK}),__webpack_require__.d(__webpack_exports__,"g",function(){return UPDATE_TASK}),__webpack_require__.d(__webpack_exports__,"b",function(){return COMPLETE_TASK}),__webpack_require__.d(__webpack_exports__,"e",function(){return DELETE_TASK}),__webpack_require__.d(__webpack_exports__,"a",function(){return CLONE_TASK}),__webpack_require__.d(__webpack_exports__,"d",function(){return CREATE_TIMELOG}),__webpack_require__.d(__webpack_exports__,"f",function(){return START_TIMELOG});var _Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),graphql_tag__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11),graphql_tag__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_1__),_shared_graphql_fragments__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24);function _templateObject9(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tmutation DeleteTimelog($where: TimelogWhereUniqueInput!) {\n\t\tdeleteTimelog(where: $where) {\n\t\t\tid\n\t\t}\n\t}\n"]);return _templateObject9=function _templateObject9(){return data},data}function _templateObject8(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tmutation UpdateTimelog(\n\t\t$data: TimelogUpdateInput!\n\t\t$where: TimelogWhereUniqueInput!\n\t) {\n\t\tupdateTimelog(data: $data, where: $where) {\n\t\t\t...timelog\n\t\t}\n\t}\n\t","\n"]);return _templateObject8=function _templateObject8(){return data},data}function _templateObject7(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tmutation StartTimelog($data: TimelogCreateInput!) {\n\t\tstartTimelog(data: $data) {\n\t\t\t...timelog\n\t\t\ttask {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t}\n\t\t}\n\t}\n\t","\n"]);return _templateObject7=function _templateObject7(){return data},data}function _templateObject6(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tmutation CreateTimelog($data: TimelogCreateInput!) {\n\t\tcreateTimelog(data: $data) {\n\t\t\t...timelog\n\t\t\ttask {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t}\n\t\t}\n\t}\n\t","\n"]);return _templateObject6=function _templateObject6(){return data},data}function _templateObject5(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tmutation CloneTask($where: TaskWhereUniqueInput!) {\n\t\tcloneTask(where: $where) {\n\t\t\tid\n\t\t\tname\n\t\t}\n\t}\n"]);return _templateObject5=function _templateObject5(){return data},data}function _templateObject4(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tmutation DeleteTask($where: TaskWhereUniqueInput!) {\n\t\tdeleteTask(where: $where) {\n\t\t\tid\n\t\t\tname\n\t\t}\n\t}\n"]);return _templateObject4=function _templateObject4(){return data},data}function _templateObject3(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tmutation CompleteTask($where: TaskWhereUniqueInput!) {\n\t\tcompleteTask(where: $where) {\n\t\t\tid\n\t\t\tcompleted\n\t\t}\n\t}\n"]);return _templateObject3=function _templateObject3(){return data},data}function _templateObject2(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tmutation UpdateTask(\n\t\t$data: TaskUpdateInput!\n\t\t$where: TaskWhereUniqueInput!\n\t) {\n\t\tupdateTask(data: $data, where: $where) {\n\t\t\t...task\n\t\t}\n\t}\n\t","\n"]);return _templateObject2=function _templateObject2(){return data},data}function _templateObject(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tmutation CreateTask($data: TaskCreateInput!) {\n\t\tcreateTask(data: $data) {\n\t\t\t...task\n\t\t}\n\t}\n\t","\n"]);return _templateObject=function _templateObject(){return data},data}var CREATE_TASK=graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject(),_shared_graphql_fragments__WEBPACK_IMPORTED_MODULE_2__.d),UPDATE_TASK=graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject2(),_shared_graphql_fragments__WEBPACK_IMPORTED_MODULE_2__.d),COMPLETE_TASK=graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject3()),DELETE_TASK=graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject4()),CLONE_TASK=graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject5()),CREATE_TIMELOG=graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject6(),_shared_graphql_fragments__WEBPACK_IMPORTED_MODULE_2__.e),START_TIMELOG=graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject7(),_shared_graphql_fragments__WEBPACK_IMPORTED_MODULE_2__.e);graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject8(),_shared_graphql_fragments__WEBPACK_IMPORTED_MODULE_2__.e),graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject9())},54:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return QUERY_TASKS}),__webpack_require__.d(__webpack_exports__,"b",function(){return QUERY_TAGS}),__webpack_require__.d(__webpack_exports__,"a",function(){return QUERY_SUBPROJECTS});var _Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),graphql_tag__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11),graphql_tag__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_1__),_shared_graphql_fragments__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24);function _templateObject3(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tquery QuerySubprojects($where: SubprojectWhereInput!) {\n\t\tsubprojects(where: $where) {\n\t\t\tid\n\t\t\tname\n\t\t}\n\t}\n"]);return _templateObject3=function _templateObject3(){return data},data}function _templateObject2(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tquery QueryTags($where: TagWhereInput!) {\n\t\ttags(where: $where) {\n\t\t\tid\n\t\t\tname\n\t\t}\n\t}\n"]);return _templateObject2=function _templateObject2(){return data},data}function _templateObject(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__.a)(["\n\tquery QueryTasks($where: TaskWhereInput) {\n\t\ttasks(where: $where, orderBy: id_DESC) {\n\t\t\t...task\n\t\t}\n\t}\n\t","\n"]);return _templateObject=function _templateObject(){return data},data}var QUERY_TASKS=graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject(),_shared_graphql_fragments__WEBPACK_IMPORTED_MODULE_2__.d),QUERY_TAGS=graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject2()),QUERY_SUBPROJECTS=graphql_tag__WEBPACK_IMPORTED_MODULE_1___default()(_templateObject3())},554:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(42),_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),reactstrap__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(124),react_apollo__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),graphql_tag__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(11),graphql_tag__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_5__),moment__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(25),moment__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_6__),_graphql_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(19);function _templateObject(){var data=Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__.a)(["\n\tquery QueryTimelogs($where: TimelogWhereInput!) {\n\t\ttimelogs(where: $where) {\n\t\t\tstartDate\n\t\t\tfinishDate\n\t\t\tdescription\n\t\t\ttask {\n\t\t\t\tname\n\t\t\t}\n\t\t}\n\t}\n"]);return _templateObject=function _templateObject(){return data},data}var QUERY=graphql_tag__WEBPACK_IMPORTED_MODULE_5___default()(_templateObject()),ExportTimelogs=function ExportTimelogs(_ref){var timelogs=_ref.data.timelogs;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_3__.a,{href:timelogs?function onClick(){return"data:text/csv;charset=utf-8,"+timelogs.reduce(function(acc,curr){return[].concat(Object(_Users_mbed_code_erp_client_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(acc),[[curr.task.name,moment__WEBPACK_IMPORTED_MODULE_6___default()(curr.startDate).format("HH:mm:ss"),moment__WEBPACK_IMPORTED_MODULE_6___default()(curr.finishDate).format("HH:mm:ss"),curr.description]])},[]).map(function(e){return e.join(",")}).join("\n")}():null,download:!0},"Export Timelogs")};__webpack_exports__.a=Object(react_apollo__WEBPACK_IMPORTED_MODULE_4__.c)(QUERY,{options:{variables:{where:{task:{user:{id:Object(_graphql_utils__WEBPACK_IMPORTED_MODULE_7__.b)()}}}}}})(ExportTimelogs),ExportTimelogs.__docgenInfo={description:"",methods:[],displayName:"ExportTimelogs"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/utils/ExportTimelogs.js"]={name:"ExportTimelogs",docgenInfo:ExportTimelogs.__docgenInfo,path:"src/app/tasks/utils/ExportTimelogs.js"})},560:function(module,__webpack_exports__,__webpack_require__){"use strict";var toConsumableArray=__webpack_require__(42),objectSpread=__webpack_require__(31),objectWithoutProperties=__webpack_require__(35),react=__webpack_require__(1),react_default=__webpack_require__.n(react),taggedTemplateLiteral=__webpack_require__(4),src=__webpack_require__(11),src_default=__webpack_require__.n(src);function _templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\tquery QueryTags(\n\t\t$where: TagWhereInput!\n\t\t$timelogs_every: TimelogWhereInput!\n\t) {\n\t\ttags(where: $where) {\n\t\t\tid\n\t\t\tname\n\t\t\timage\n\t\t\tcolor\n\t\t\tstatusMs(timelogs_every: $timelogs_every)\n\t\t\tstatusTime(timelogs_every: $timelogs_every)\n\t\t}\n\t}\n"]);return _templateObject=function _templateObject(){return data},data}var QUERY_TAGS=src_default()(_templateObject()),react_apollo_esm=__webpack_require__(9),utils=__webpack_require__(19),WithDateRangeSelect=__webpack_require__(143),TagHeader=__webpack_require__(334),slicedToArray=__webpack_require__(15),TagModal=__webpack_require__(234),TagCreateButton=function WithTagModal(Component){return function(props){var _useState=Object(react.useState)(!1),_useState2=Object(slicedToArray.a)(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1],toggle=function toggle(){return setIsOpen(!isOpen)};return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(Component,{onClick:toggle}),react_default.a.createElement(TagModal.a,Object.assign({isOpen:isOpen,toggle:toggle},props)))}}(function(props){return react_default.a.createElement("button",Object.assign({className:"btn btn-success btn-sm my-auto"},props),"+ New tag")}),header_WithTagHeader=function WithTagHeader(Component){return function(props){return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(TagHeader.a,{renderActionButton:function renderActionButton(){return react_default.a.createElement(TagCreateButton,null)}}),react_default.a.createElement(Component,props))}},es6=__webpack_require__(30),tasks_utils=__webpack_require__(26),TagBarChart_TagBarChart=function TagBarChart(_ref){var tags=_ref.tags;return react_default.a.createElement(es6.i,{width:"100%",height:500},react_default.a.createElement(es6.b,{width:500,height:300,data:tags,margin:{top:5,right:30,left:20,bottom:5}},react_default.a.createElement(es6.c,{strokeDasharray:"3 3"}),react_default.a.createElement(es6.k,{dataKey:"name"}),react_default.a.createElement(es6.l,{type:"number",domain:[0,"dataMax"],hide:!0}),react_default.a.createElement(es6.j,{formatter:function formatter(x){return[Object(tasks_utils.a)(x),"time"]}}),react_default.a.createElement(es6.a,{dataKey:"statusMs",fill:"#8884d8"},tags.map(function(tag,index){return react_default.a.createElement(es6.d,{key:"cell-".concat(index),fill:tag.color})}))))},charts_TagBarChart=TagBarChart_TagBarChart;TagBarChart_TagBarChart.__docgenInfo={description:"",methods:[],displayName:"TagBarChart"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/tag/components/charts/TagBarChart.js"]={name:"TagBarChart",docgenInfo:TagBarChart_TagBarChart.__docgenInfo,path:"src/app/tasks/tag/components/charts/TagBarChart.js"});var TagPieChart_TagPieChart=function TagPieChart(_ref){var tags=_ref.tags;return react_default.a.createElement(es6.i,{width:"100%",height:500},react_default.a.createElement(es6.h,{width:500,height:300},react_default.a.createElement(es6.g,{dataKey:"statusMs",isAnimationActive:!1,data:tags,outerRadius:200,fill:"#8884d8",label:function label(_ref2){var statusMs=_ref2.statusMs;return Object(tasks_utils.a)(statusMs)}}),react_default.a.createElement(es6.j,{formatter:tasks_utils.a})))};TagPieChart_TagPieChart.__docgenInfo={description:"",methods:[],displayName:"TagPieChart"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/tag/components/charts/TagPieChart.js"]={name:"TagPieChart",docgenInfo:TagPieChart_TagPieChart.__docgenInfo,path:"src/app/tasks/tag/components/charts/TagPieChart.js"});var styled_components_browser_esm=__webpack_require__(20),Container=__webpack_require__(1130);function _templateObject2(){var data=Object(taggedTemplateLiteral.a)(["\n\tbackground-image: ",";\n\tbackground-position: center;\n\tbackground-size: contain;\n\tbackground-repeat: no-repeat;\n\twidth: 100%;\n\theight: 100%;\n"]);return _templateObject2=function _templateObject2(){return data},data}function TagTooltip_templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\twidth: 10rem;\n\theight: 8rem;\n\tbackground-color: #fff;\n\tborder: 1px solid rgba(102, 102, 102, 0.2);\n"]);return TagTooltip_templateObject=function _templateObject(){return data},data}var TooltipDiv=Object(styled_components_browser_esm.a)(Container.a)(TagTooltip_templateObject()),Img=styled_components_browser_esm.a.div(_templateObject2(),function(props){return props.image?"url(".concat(props.image,")"):"none"}),TagTooltip_TagTooltip=function TagTooltip(_ref){var payload=_ref.payload,formatter=_ref.formatter,_ref2=payload.length?payload[0]:{payload:{name:"",statusTime:"",image:""},value:0},_ref2$payload=_ref2.payload,name=_ref2$payload.name,statusTime=_ref2$payload.statusTime,image=_ref2$payload.image,value=_ref2.value;return react_default.a.createElement(TooltipDiv,{fluid:!0,className:"d-flex flex-column justify-content-end py-2 px-3"},react_default.a.createElement("strong",null,"".concat(name," ").concat(formatter(value))),react_default.a.createElement("p",null,"time: ".concat(statusTime)),react_default.a.createElement(Img,{image:image}))},charts_TagTooltip=TagTooltip_TagTooltip;TagTooltip_TagTooltip.__docgenInfo={description:"",methods:[],displayName:"TagTooltip"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/tag/components/charts/TagTooltip.js"]={name:"TagTooltip",docgenInfo:TagTooltip_TagTooltip.__docgenInfo,path:"src/app/tasks/tag/components/charts/TagTooltip.js"});var ImageLabel_ImageLabel=function ImageLabel(_ref){var image=_ref.image,x=_ref.x,y=_ref.y;return react_default.a.createElement("svg",{width:"50",height:"50",x:x,y:y},react_default.a.createElement("defs",null,react_default.a.createElement("clipPath",{id:"clipCircle"},react_default.a.createElement("circle",{r:"25",cx:"50%",cy:"50%"}))),react_default.a.createElement("image",{width:"50",height:"50",href:image,clipPath:"url(#clipCircle)",preserveAspectRatio:"xMidYMid slice"}))},charts_ImageLabel=ImageLabel_ImageLabel;ImageLabel_ImageLabel.__docgenInfo={description:"",methods:[],displayName:"ImageLabel"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/tag/components/charts/ImageLabel.js"]={name:"ImageLabel",docgenInfo:ImageLabel_ImageLabel.__docgenInfo,path:"src/app/tasks/tag/components/charts/ImageLabel.js"});var TagDonutChart_CustomLabel=function CustomLabel(_ref){var value=_ref.value,_ref$viewBox=_ref.viewBox,cx=_ref$viewBox.cx,cy=_ref$viewBox.cy;return react_default.a.createElement("text",{x:cx,y:cy,dy:4,textAnchor:"middle",fontSize:"2rem"},value)},getTotalMs=function getTotalMs(tags){return tags.reduce(function(acc,curr){return acc+curr.statusMs},0)},TagDonutChart_getTotalTime=function getTotalTime(tags){return Object(tasks_utils.a)(getTotalMs(tags))},TagDonutChart_TagDonutChart=function TagDonutChart(_ref2){var tags=_ref2.tags;return react_default.a.createElement(es6.i,{width:"75%",height:600},react_default.a.createElement(es6.h,null,react_default.a.createElement(es6.g,{data:tags,dataKey:"statusMs",nameKey:"name",innerRadius:150,outerRadius:200,fill:"#82ca9d",paddingAngle:1,label:charts_ImageLabel,labelLine:!1},react_default.a.createElement(es6.e,{offset:0,position:"center",value:TagDonutChart_getTotalTime(tags),content:react_default.a.createElement(TagDonutChart_CustomLabel,null)}),tags.map(function(tag,index){return react_default.a.createElement(es6.d,{key:"cell-".concat(index),fill:tag.color})})),react_default.a.createElement(es6.j,{formatter:function calculateSectorLabel(statusMs){return Math.round(1*statusMs/getTotalMs(tags)*100)+"%"},content:react_default.a.createElement(charts_TagTooltip,null)})))},charts_TagDonutChart=TagDonutChart_TagDonutChart;TagDonutChart_TagDonutChart.__docgenInfo={description:"",methods:[],displayName:"TagDonutChart"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/tag/components/charts/TagDonutChart.js"]={name:"TagDonutChart",docgenInfo:TagDonutChart_TagDonutChart.__docgenInfo,path:"src/app/tasks/tag/components/charts/TagDonutChart.js"});var TagList=__webpack_require__(344),TagChart_TagChart=function TagChart(_ref){var tags=_ref.tags,_useState=Object(react.useState)([]),_useState2=Object(slicedToArray.a)(_useState,2),disabled=_useState2[0],setDisabled=_useState2[1],getFilteredTags=function getFilteredTags(){return tags.filter(function(tag){return!disabled.includes(tag.id)})};return react_default.a.createElement(Container.a,{className:"px-0 d-flex flex-column"},react_default.a.createElement(Container.a,{fluid:!0,className:"px-0 d-flex position-relative"},react_default.a.createElement(Container.a,{className:"align-self-start w-60"},react_default.a.createElement(TagList.a,{tags:tags,disabled:disabled,onClick:function toggleTag(tagId){return disabled.includes(tagId)?setDisabled(disabled.filter(function(id){return id!==tagId})):setDisabled([].concat(Object(toConsumableArray.a)(disabled),[tagId]))}})),react_default.a.createElement(Container.a,{fluid:!0,className:"d-flex flex-column align-items-center"},react_default.a.createElement(charts_TagDonutChart,{tags:getFilteredTags()}))),react_default.a.createElement(charts_TagBarChart,{tags:getFilteredTags()}))},components_TagChart=TagChart_TagChart;TagChart_TagChart.__docgenInfo={description:"",methods:[],displayName:"TagChart"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/tag/components/TagChart.js"]={name:"TagChart",docgenInfo:TagChart_TagChart.__docgenInfo,path:"src/app/tasks/tag/components/TagChart.js"});var fragments=__webpack_require__(24);function subscriptions_templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\tsubscription TagSubscription($where: TagSubscriptionWhereInput!) {\n\t\ttag(where: $where) {\n\t\t\tnode {\n\t\t\t\t...tag\n\t\t\t}\n\t\t}\n\t}\n\t","\n"]);return subscriptions_templateObject=function _templateObject(){return data},data}var TAG_SUBSCRIPTION=src_default()(subscriptions_templateObject(),fragments.c),containers_TagChart_TagChart=function TagChart(_ref){var subscribeToMore=_ref.subscribeToMore,refetch=_ref.refetch,props=Object(objectWithoutProperties.a)(_ref,["subscribeToMore","refetch"]);return Object(react.useEffect)(function(){return subscribeToMore({document:TAG_SUBSCRIPTION,variables:{where:{mutation_in:["CREATED","DELETED"],node:{user:{id:Object(utils.b)()}}}},updateQuery:function updateQuery(prev,_ref2){var data=_ref2.subscriptionData.data;return data.tag.node?Object(objectSpread.a)({},prev,{tags:[data.tag.node].concat(Object(toConsumableArray.a)(prev.tags))}):(refetch(),prev)}})},[]),react_default.a.createElement(components_TagChart,props)},ConnectedTagChart=Object(react_apollo_esm.c)(QUERY_TAGS,{props:function props(_ref3){var _ref3$data=_ref3.data,_ref3$data$tags=_ref3$data.tags,tags=void 0===_ref3$data$tags?[]:_ref3$data$tags,data=Object(objectWithoutProperties.a)(_ref3$data,["tags"]);return tags.sort(function(a,b){return b.statusMs-a.statusMs}),Object(objectSpread.a)({tags:tags},data)},options:function options(_ref4){var dateRange=_ref4.dateRange;return{variables:{where:{user:{id:Object(utils.b)()}},timelogs_every:{startDate_gte:dateRange[0],finishDate_lte:dateRange[1]}}}}})(containers_TagChart_TagChart);__webpack_exports__.a=header_WithTagHeader(Object(WithDateRangeSelect.a)(ConnectedTagChart));containers_TagChart_TagChart.__docgenInfo={description:"",methods:[],displayName:"TagChart"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/tag/containers/TagChart.js"]={name:"TagChart",docgenInfo:containers_TagChart_TagChart.__docgenInfo,path:"src/app/tasks/tag/containers/TagChart.js"})},561:function(module,__webpack_exports__,__webpack_require__){"use strict";var objectSpread=__webpack_require__(31),objectWithoutProperties=__webpack_require__(35),react=__webpack_require__(1),react_default=__webpack_require__.n(react),react_apollo_esm=__webpack_require__(9),taggedTemplateLiteral=__webpack_require__(4),es=__webpack_require__(87),index_esm=__webpack_require__(36),styled_components_browser_esm=__webpack_require__(20),slicedToArray=__webpack_require__(15),Modal=__webpack_require__(577),ModalHeader=__webpack_require__(573),ModalBody=__webpack_require__(574),ModalFooter=__webpack_require__(575),Button=__webpack_require__(124),DeleteModal_DeleteModal=function DeleteModal(_ref){var name=_ref.name,onDelete=_ref.onDelete,_useState=Object(react.useState)(!1),_useState2=Object(slicedToArray.a)(_useState,2),modal=_useState2[0],setModal=_useState2[1],toggle=function toggle(){return setModal(!modal)};return react_default.a.createElement("div",null,react_default.a.createElement(index_esm.l,{"data-testid":"icon",onClick:toggle,style:{cursor:"pointer"}}),react_default.a.createElement(Modal.a,{isOpen:modal,toggle:toggle},react_default.a.createElement(ModalHeader.a,{"data-testid":"header",toggle:toggle},"Delete "+name),react_default.a.createElement(ModalBody.a,null,"Are you sure?"),react_default.a.createElement(ModalFooter.a,null,react_default.a.createElement(Button.a,{"data-testid":"delete",color:"danger",onClick:function onClick(){return onDelete()&&toggle()}},"Delete")," ",react_default.a.createElement(Button.a,{"data-testid":"cancel",color:"secondary",onClick:toggle},"Cancel"))))},components_DeleteModal=DeleteModal_DeleteModal;DeleteModal_DeleteModal.__docgenInfo={description:"",methods:[],displayName:"DeleteModal"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/shared/components/DeleteModal.js"]={name:"DeleteModal",docgenInfo:DeleteModal_DeleteModal.__docgenInfo,path:"src/app/tasks/shared/components/DeleteModal.js"});var Input=__webpack_require__(153),SaveModal_SaveModal=function SaveModal(_ref){var header=_ref.header,content=_ref.content,onSave=_ref.onSave,_ref$Component=_ref.Component,Component=void 0===_ref$Component?Button.a:_ref$Component,_useState=Object(react.useState)(!1),_useState2=Object(slicedToArray.a)(_useState,2),modal=_useState2[0],setModal=_useState2[1],_useState3=Object(react.useState)(content||""),_useState4=Object(slicedToArray.a)(_useState3,2),input=_useState4[0],setInput=_useState4[1],toggle=function toggle(){return setModal(!modal)};return react_default.a.createElement("div",null,react_default.a.createElement(Component,{"data-testid":"button",onClick:toggle,style:{cursor:"pointer"}}),react_default.a.createElement(Modal.a,{isOpen:modal,toggle:toggle},react_default.a.createElement(ModalHeader.a,{"data-testid":"header",toggle:toggle},content?"Update "+header:"New "+header),react_default.a.createElement(ModalBody.a,null," ",react_default.a.createElement(Input.a,{"data-testid":"input",value:input,onChange:function onChange(e){return setInput(e.target.value)},placeholder:header+" name..."})),react_default.a.createElement(ModalFooter.a,null,react_default.a.createElement(Button.a,{"data-testid":"save",color:"primary",onClick:function save(){return onSave(input)&&toggle()}},"Save")," ",react_default.a.createElement(Button.a,{color:"secondary",onClick:toggle},"Cancel"))))},components_SaveModal=SaveModal_SaveModal;function _templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\tdisplay: flex;\n\tjustify-content: space-around;\n"]);return _templateObject=function _templateObject(){return data},data}SaveModal_SaveModal.__docgenInfo={description:"",methods:[],displayName:"SaveModal"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/shared/components/SaveModal.js"]={name:"SaveModal",docgenInfo:SaveModal_SaveModal.__docgenInfo,path:"src/app/tasks/shared/components/SaveModal.js"});var Div=styled_components_browser_esm.a.div(_templateObject()),columns=function columns(renderActions){return[{Header:"Project",accessor:"name"},{Header:"Status",accessor:"statusTime"},{Header:"Estimate",accessor:"estimateTime"},{Header:"Actions",Cell:function Cell(_ref){var _ref$original=_ref.original,name=_ref$original.name,id=_ref$original.id;return renderActions({name:name,id:id})},width:150}]},ProjectList_ProjectList=function ProjectList(_ref2){var projects=_ref2.projects,updateProject=_ref2.updateProject,deleteProject=_ref2.deleteProject,createSubproject=_ref2.createSubproject,renderSubprojectList=_ref2.renderSubprojectList;return react_default.a.createElement(es.a,{data:projects,columns:columns(function renderActions(_ref3){var id=_ref3.id,name=_ref3.name;return react_default.a.createElement(Div,null,react_default.a.createElement(components_SaveModal,{header:"Subproject",onSave:function onSave(name){return createSubproject({name:name,projectId:id})},Component:index_esm.g}),react_default.a.createElement(components_SaveModal,{header:"Project",content:name,onSave:function onSave(name){return updateProject({name:name,id:id})},Component:index_esm.b}),react_default.a.createElement(components_DeleteModal,{name:name,onDelete:function onDelete(){return deleteProject(id)}}))}),SubComponent:function SubComponent(_ref4){var id=_ref4.original.id;return renderSubprojectList(id)},showPagination:!1,pageSize:projects.length})},components_ProjectList=ProjectList_ProjectList;ProjectList_ProjectList.__docgenInfo={description:"",methods:[],displayName:"ProjectList"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/new-project/components/ProjectList.js"]={name:"ProjectList",docgenInfo:ProjectList_ProjectList.__docgenInfo,path:"src/app/tasks/new-project/components/ProjectList.js"});var src=__webpack_require__(11),src_default=__webpack_require__.n(src),fragments=__webpack_require__(24);function _templateObject2(){var data=Object(taggedTemplateLiteral.a)(["\n\tquery QuerySubprojectsByProject($where: SubprojectWhereInput!) {\n\t\tsubprojects(where: $where) {\n\t\t\t...subproject\n\t\t}\n\t}\n\t","\n"]);return _templateObject2=function _templateObject2(){return data},data}function queries_templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\tquery QueryProjects($where: ProjectWhereInput!) {\n\t\tprojects(where: $where) {\n\t\t\t...project\n\t\t}\n\t}\n\t","\n"]);return queries_templateObject=function _templateObject(){return data},data}var QUERY_PROJECTS=src_default()(queries_templateObject(),fragments.a),QUERY_SUBPROJECTS_BY_PROJECT=src_default()(_templateObject2(),fragments.b);function _templateObject6(){var data=Object(taggedTemplateLiteral.a)(["\n\tmutation DeleteProject($where: SubprojectWhereUniqueInput!) {\n\t\tdeleteSubproject(where: $where) {\n\t\t\tid\n\t\t}\n\t}\n"]);return _templateObject6=function _templateObject6(){return data},data}function _templateObject5(){var data=Object(taggedTemplateLiteral.a)(["\n\tmutation UpdateProject(\n\t\t$data: SubprojectUpdateInput!\n\t\t$where: SubprojectWhereUniqueInput!\n\t) {\n\t\tupdateSubproject(data: $data, where: $where) {\n\t\t\t...subproject\n\t\t}\n\t}\n\t","\n"]);return _templateObject5=function _templateObject5(){return data},data}function _templateObject4(){var data=Object(taggedTemplateLiteral.a)(["\n\tmutation CreateSubproject($data: SubprojectCreateInput!) {\n\t\tcreateSubproject(data: $data) {\n\t\t\t...subproject\n\t\t}\n\t}\n\t","\n"]);return _templateObject4=function _templateObject4(){return data},data}function _templateObject3(){var data=Object(taggedTemplateLiteral.a)(["\n\tmutation DeleteProject($where: ProjectWhereUniqueInput!) {\n\t\tdeleteProject(where: $where) {\n\t\t\tid\n\t\t}\n\t}\n"]);return _templateObject3=function _templateObject3(){return data},data}function mutations_templateObject2(){var data=Object(taggedTemplateLiteral.a)(["\n\tmutation UpdateProject(\n\t\t$data: ProjectUpdateInput!\n\t\t$where: ProjectWhereUniqueInput!\n\t) {\n\t\tupdateProject(data: $data, where: $where) {\n\t\t\t...project\n\t\t}\n\t}\n\t","\n"]);return mutations_templateObject2=function _templateObject2(){return data},data}function mutations_templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\tmutation CreateProject($data: ProjectCreateInput!) {\n\t\tcreateProject(data: $data) {\n\t\t\t...project\n\t\t}\n\t}\n\t","\n"]);return mutations_templateObject=function _templateObject(){return data},data}var CREATE_PROJECT=src_default()(mutations_templateObject(),fragments.a),UPDATE_PROJECT=src_default()(mutations_templateObject2(),fragments.a),DELETE_PROJECT=src_default()(_templateObject3()),CREATE_SUBPROJECT=src_default()(_templateObject4(),fragments.b),UPDATE_SUBPROJECT=src_default()(_templateObject5(),fragments.b),DELETE_SUBPROJECT=src_default()(_templateObject6());function SubprojectList_templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\tdisplay: flex;\n\tjustify-content: space-around;\n"]);return SubprojectList_templateObject=function _templateObject(){return data},data}var SubprojectList_Div=styled_components_browser_esm.a.div(SubprojectList_templateObject()),SubprojectList_columns=function columns(renderActions){return[{Header:"Subproject",accessor:"name"},{Header:"Status",accessor:"statusTime"},{Header:"Estimate",accessor:"estimateTime"},{Header:"Actions",Cell:function Cell(_ref){var _ref$original=_ref.original,name=_ref$original.name,id=_ref$original.id;return renderActions({name:name,id:id})},width:100}]},SubprojectList_SubprojectList=function SubprojectList(_ref2){var subprojects=_ref2.subprojects,updateSubproject=_ref2.updateSubproject,deleteSubproject=_ref2.deleteSubproject;return react_default.a.createElement(es.a,{data:subprojects,columns:SubprojectList_columns(function renderActions(_ref3){var id=_ref3.id,name=_ref3.name;return react_default.a.createElement(SubprojectList_Div,null,react_default.a.createElement(components_SaveModal,{header:"Subproject",content:name,onSave:function onSave(name){return updateSubproject({name:name,id:id})},Component:index_esm.b}),react_default.a.createElement(components_DeleteModal,{name:name,onDelete:function onDelete(){return deleteSubproject(id)}}))}),showPagination:!1,pageSize:subprojects.length})},components_SubprojectList=SubprojectList_SubprojectList;SubprojectList_SubprojectList.__docgenInfo={description:"",methods:[],displayName:"SubprojectList"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/new-project/components/SubprojectList.js"]={name:"SubprojectList",docgenInfo:SubprojectList_SubprojectList.__docgenInfo,path:"src/app/tasks/new-project/components/SubprojectList.js"});var containers_SubprojectList=Object(react_apollo_esm.b)(Object(react_apollo_esm.c)(QUERY_SUBPROJECTS_BY_PROJECT,{props:function props(_ref){var _ref$data$subprojects=_ref.data.subprojects;return{subprojects:void 0===_ref$data$subprojects?[]:_ref$data$subprojects}},options:function options(_ref2){return{variables:{where:{project:{id:_ref2.projectId}}}}}}),Object(react_apollo_esm.c)(UPDATE_SUBPROJECT,{props:function props(_ref3){var mutate=_ref3.mutate;return{updateSubproject:function updateSubproject(_ref4){var id=_ref4.id,data=Object(objectWithoutProperties.a)(_ref4,["id"]);return mutate({variables:{data:data,where:{id:id}}})}}}}),Object(react_apollo_esm.c)(DELETE_SUBPROJECT,{props:function props(_ref5){var mutate=_ref5.mutate,projectId=_ref5.ownProps.projectId;return{deleteSubproject:function deleteSubproject(id){return mutate({variables:{where:{id:id}},refetchQueries:[{query:QUERY_SUBPROJECTS_BY_PROJECT,variables:{where:{project:{id:projectId}}}}]})}}}}))(components_SubprojectList),utils=__webpack_require__(19),containers_ProjectList_ProjectList=function ProjectList(_ref){var projects=_ref.projects,loading=_ref.loading,createProject=_ref.createProject,updateProject=_ref.updateProject,deleteProject=_ref.deleteProject,createSubproject=_ref.createSubproject;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(components_SaveModal,{header:"Project",onSave:createProject,Component:function Component(props){return react_default.a.createElement(Button.a,Object.assign({color:"success"},props),"+ Project")}}),react_default.a.createElement(components_ProjectList,{projects:projects,loading:loading,updateProject:updateProject,deleteProject:deleteProject,renderSubprojectList:function renderSubprojectList(projectId){return react_default.a.createElement(containers_SubprojectList,{projectId:projectId})},createSubproject:createSubproject}))};__webpack_exports__.a=Object(react_apollo_esm.b)(Object(react_apollo_esm.c)(QUERY_PROJECTS,{options:{variables:Object(utils.e)()},props:function props(_ref2){var _ref2$data=_ref2.data,_ref2$data$projects=_ref2$data.projects;return{projects:void 0===_ref2$data$projects?[]:_ref2$data$projects,loading:_ref2$data.loading}}}),Object(react_apollo_esm.c)(CREATE_PROJECT,{props:function props(_ref3){var mutate=_ref3.mutate;return{createProject:function createProject(name){return mutate({variables:Object(utils.d)({name:name}),refetchQueries:[{query:QUERY_PROJECTS,variables:Object(utils.e)()}]})}}}}),Object(react_apollo_esm.c)(CREATE_SUBPROJECT,{props:function props(_ref4){var mutate=_ref4.mutate;return{createSubproject:function createSubproject(_ref5){var projectId=_ref5.projectId,data=Object(objectWithoutProperties.a)(_ref5,["projectId"]);return mutate({variables:{data:Object(objectSpread.a)({},data,{project:{connect:{id:projectId}}})},refetchQueries:[{query:QUERY_SUBPROJECTS_BY_PROJECT,variables:{where:{project:{id:projectId}}}}]})}}}}),Object(react_apollo_esm.c)(UPDATE_PROJECT,{props:function props(_ref6){var mutate=_ref6.mutate;return{updateProject:function updateProject(_ref7){var id=_ref7.id,data=Object(objectWithoutProperties.a)(_ref7,["id"]);return mutate({variables:{data:data,where:{id:id}}})}}}}),Object(react_apollo_esm.c)(DELETE_PROJECT,{props:function props(_ref8){var mutate=_ref8.mutate;return{deleteProject:function deleteProject(id){return mutate({variables:{where:{id:id}},refetchQueries:[{query:QUERY_PROJECTS,variables:Object(utils.e)()}]})}}}}))(containers_ProjectList_ProjectList);containers_ProjectList_ProjectList.__docgenInfo={description:"",methods:[],displayName:"ProjectList"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/new-project/containers/ProjectList.js"]={name:"ProjectList",docgenInfo:containers_ProjectList_ProjectList.__docgenInfo,path:"src/app/tasks/new-project/containers/ProjectList.js"})},562:function(module,__webpack_exports__,__webpack_require__){"use strict";var objectWithoutProperties=__webpack_require__(35),react=__webpack_require__(1),react_default=__webpack_require__.n(react),react_apollo_esm=__webpack_require__(9),Table=__webpack_require__(1140),PropertyInput=__webpack_require__(337),TaskList_TaskList=function TaskList(_ref){var tasks=_ref.tasks,updateTask=_ref.updateTask;return react_default.a.createElement(Table.a,{hover:!0,size:"sm"},react_default.a.createElement("thead",null,react_default.a.createElement("tr",null,react_default.a.createElement("th",null,"Name"),react_default.a.createElement("th",{style:{width:"25%"}},"Planned Date"),react_default.a.createElement("th",{style:{width:"25%"}},"Time Estimate"))),react_default.a.createElement("tbody",null,tasks.map(function(_ref2,key){var id=_ref2.id,name=_ref2.name,plannedDate=_ref2.plannedDate,estimateTime=_ref2.estimateTime;return react_default.a.createElement("tr",{key:key,"data-testid":"task-tr"},react_default.a.createElement("td",null,name),react_default.a.createElement("td",null,plannedDate),react_default.a.createElement("td",null,react_default.a.createElement(PropertyInput.a,{originalValue:estimateTime,property:"estimateTime",onChange:function onChange(estimateTime){return updateTask({estimateTime:estimateTime,id:id})}})))})))},components_TaskList=TaskList_TaskList;TaskList_TaskList.__docgenInfo={description:"",methods:[],displayName:"TaskList"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/estimate-panel/components/TaskList.js"]={name:"TaskList",docgenInfo:TaskList_TaskList.__docgenInfo,path:"src/app/tasks/estimate-panel/components/TaskList.js"});var defineProperty=__webpack_require__(98),toConsumableArray=__webpack_require__(42),objectSpread=__webpack_require__(31),es6=__webpack_require__(30),utils=(__webpack_require__(25),__webpack_require__(26)),TaskChart_makeWeeklyTasks=function makeWeeklyTasks(tasks){return tasks.reduce(function(acc,curr){return Object(objectSpread.a)({},acc,Object(defineProperty.a)({},Object(utils.c)(curr.plannedDate),acc[Object(utils.c)(curr.plannedDate)]?[].concat(Object(toConsumableArray.a)(acc[Object(utils.c)(curr.plannedDate)]),[curr]):[curr]))},{})},TaskChart_makeDataPoints=function makeDataPoints(weekly){return Object.keys(weekly).map(function(day){return{x:day,time:Object(utils.j)(weekly[day],"estimateTime")}})},TaskChart_Chart=function Chart(_ref){var _ref$tasks=_ref.tasks,tasks=void 0===_ref$tasks?[]:_ref$tasks;return react_default.a.createElement(es6.b,{width:500,height:300,data:TaskChart_makeDataPoints(TaskChart_makeWeeklyTasks(tasks)),margin:{top:5,right:30,left:20,bottom:5}},react_default.a.createElement(es6.c,{strokeDasharray:"3 3"}),react_default.a.createElement(es6.k,{dataKey:"x"}),react_default.a.createElement(es6.l,{domain:[0,36e6],type:"number",tickFormatter:utils.a}),react_default.a.createElement(es6.j,{formatter:utils.a}),react_default.a.createElement(es6.a,{dataKey:"time",fill:"#8884d8"}))},TaskChart=TaskChart_Chart;TaskChart_Chart.__docgenInfo={description:"",methods:[],displayName:"Chart"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/estimate-panel/components/TaskChart.js"]={name:"Chart",docgenInfo:TaskChart_Chart.__docgenInfo,path:"src/app/tasks/estimate-panel/components/TaskChart.js"});var Container=__webpack_require__(1130),Row=__webpack_require__(1131),Col=__webpack_require__(576),TaskListWithChart_TaskListWithChart=function TaskListWithChart(_ref){var renderChart=_ref.renderChart,renderList=_ref.renderList;return react_default.a.createElement(Container.a,null,react_default.a.createElement(Row.a,null,react_default.a.createElement(Col.a,null,renderChart()),react_default.a.createElement(Col.a,null,renderList())))},components_TaskListWithChart=TaskListWithChart_TaskListWithChart;TaskListWithChart_TaskListWithChart.__docgenInfo={description:"",methods:[],displayName:"TaskListWithChart"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/estimate-panel/components/TaskListWithChart.js"]={name:"TaskListWithChart",docgenInfo:TaskListWithChart_TaskListWithChart.__docgenInfo,path:"src/app/tasks/estimate-panel/components/TaskListWithChart.js"});var taggedTemplateLiteral=__webpack_require__(4),src=__webpack_require__(11),src_default=__webpack_require__.n(src);function _templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\tquery QueryTasks($where: TaskWhereInput!) {\n\t\ttasks(where: $where) {\n\t\t\tid\n\t\t\tname\n\t\t\tplannedDate\n\t\t\testimateTime\n\t\t\tstatusTime\n\t\t}\n\t}\n"]);return _templateObject=function _templateObject(){return data},data}var QUERY_TASKS=src_default()(_templateObject());function mutations_templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\tmutation UpdateTask(\n\t\t$data: TaskUpdateInput!\n\t\t$where: TaskWhereUniqueInput!\n\t) {\n\t\tupdateTask(data: $data, where: $where) {\n\t\t\tid\n\t\t\testimateTime\n\t\t\tplannedDate\n\t\t}\n\t}\n"]);return mutations_templateObject=function _templateObject(){return data},data}var UPDATE_TASK=src_default()(mutations_templateObject()),WithDateRangeSelect=__webpack_require__(143),graphql_utils=__webpack_require__(19),EstimatePanel_EstimatePanel=function EstimatePanel(_ref){var tasks=_ref.tasks,updateTask=_ref.updateTask;return react_default.a.createElement(components_TaskListWithChart,{renderChart:function renderChart(){return react_default.a.createElement(TaskChart,{tasks:tasks})},renderList:function renderList(){return react_default.a.createElement(components_TaskList,{tasks:tasks,updateTask:updateTask})}})},ConnectedEstimatePanel=Object(react_apollo_esm.b)(Object(react_apollo_esm.c)(QUERY_TASKS,{options:function options(_ref2){var dateRange=_ref2.dateRange;return{variables:Object(graphql_utils.e)({where:{plannedDate_gte:dateRange[0],plannedDate_lte:dateRange[1]}})}},props:function props(_ref3){var _ref3$data$tasks=_ref3.data.tasks;return{tasks:void 0===_ref3$data$tasks?[]:_ref3$data$tasks}}}),Object(react_apollo_esm.c)(UPDATE_TASK,{props:function props(_ref4){var mutate=_ref4.mutate;return{updateTask:function updateTask(_ref5){var id=_ref5.id,data=Object(objectWithoutProperties.a)(_ref5,["id"]);return mutate({variables:{data:data,where:{id:id}}})}}}}))(EstimatePanel_EstimatePanel);__webpack_exports__.a=Object(WithDateRangeSelect.a)(ConnectedEstimatePanel);EstimatePanel_EstimatePanel.__docgenInfo={description:"",methods:[],displayName:"EstimatePanel"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/estimate-panel/containers/EstimatePanel.js"]={name:"EstimatePanel",docgenInfo:EstimatePanel_EstimatePanel.__docgenInfo,path:"src/app/tasks/estimate-panel/containers/EstimatePanel.js"})},563:function(module,__webpack_exports__,__webpack_require__){"use strict";var react=__webpack_require__(1),react_default=__webpack_require__.n(react),react_apollo_esm=__webpack_require__(9),graphql=__webpack_require__(177),toConsumableArray=__webpack_require__(42),objectSpread=__webpack_require__(31),objectWithoutProperties=__webpack_require__(35),queries=__webpack_require__(112),graphql_queries=__webpack_require__(54),timelog_graphql_queries=__webpack_require__(100),mutations=__webpack_require__(53),taggedTemplateLiteral=__webpack_require__(4),src=__webpack_require__(11),src_default=__webpack_require__.n(src),fragments=__webpack_require__(24);function _templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\tsubscription OnTaskCreated($where: TaskSubscriptionWhereInput!) {\n\t\ttask(where: $where) {\n\t\t\tnode {\n\t\t\t\t...task\n\t\t\t}\n\t\t}\n\t}\n\t","\n"]);return _templateObject=function _templateObject(){return data},data}var ON_TASK_CREATED=src_default()(_templateObject(),fragments.d),uuidv4=__webpack_require__(146),uuidv4_default=__webpack_require__.n(uuidv4),utils=__webpack_require__(26),graphql_utils=__webpack_require__(19),TaskListRenderProps=__webpack_require__(247),TaskList_TaskList=function TaskList(_ref){var subscribeToMore=_ref.subscribeToMore,refetch=_ref.refetch,props=Object(objectWithoutProperties.a)(_ref,["subscribeToMore","refetch"]);return Object(react.useEffect)(function(){return subscribeToMore({document:ON_TASK_CREATED,variables:{where:{mutation_in:["CREATED","DELETED"],node:{user:{id:Object(graphql_utils.b)()}}}},updateQuery:function updateQuery(prev,_ref2){var data=_ref2.subscriptionData.data;return data.task.node?Object(objectSpread.a)({},prev,{tasks:[data.task.node].concat(Object(toConsumableArray.a)(prev.tasks))}):(refetch(),prev)}})},[]),react_default.a.createElement(TaskListRenderProps.a,props)},containers_TaskList=Object(react_apollo_esm.b)(Object(react_apollo_esm.c)(graphql_queries.c,{props:function props(_ref3){var _ref3$data=_ref3.data,_ref3$data$tasks=_ref3$data.tasks,tasks=void 0===_ref3$data$tasks?[]:_ref3$data$tasks,data=Object(objectWithoutProperties.a)(_ref3$data,["tasks"]);return tasks.sort(function(a,b){return new Date(b.latestTimelogStartDate)-new Date(a.latestTimelogStartDate)}),Object(objectSpread.a)({tasks:tasks},data)},options:{variables:Object(graphql_utils.e)(),fetchPolicy:"cache-first"}}),Object(react_apollo_esm.c)(mutations.g,{props:function props(_ref4){var mutate=_ref4.mutate;return{updateTask:function updateTask(_ref5){var id=_ref5.id,data=Object(objectWithoutProperties.a)(_ref5,["id"]);return mutate({variables:{data:data,where:{id:id}}})}}}}),Object(react_apollo_esm.c)(mutations.b,{props:function props(_ref6){var mutate=_ref6.mutate;return{completeTask:function completeTask(id){return mutate({variables:{where:{id:id}}})}}}}),Object(react_apollo_esm.c)(mutations.e,{props:function props(_ref7){var mutate=_ref7.mutate;return{deleteTask:function deleteTask(id){return mutate({variables:{where:{id:id}}})}}}}),Object(react_apollo_esm.c)(mutations.a,{props:function props(_ref8){var mutate=_ref8.mutate;return{cloneTask:function cloneTask(id){return mutate({variables:{where:{id:id}}})}}}}),Object(react_apollo_esm.c)(mutations.d,{props:function props(_ref9){var mutate=_ref9.mutate;return{createTimelog:function createTimelog(_ref10){var id=_ref10.id,data=Object(objectWithoutProperties.a)(_ref10,["id"]);return mutate({variables:{data:Object(objectSpread.a)({},data,{task:{connect:{id:id}}})},refetchQueries:[{query:timelog_graphql_queries.a,variables:Object(graphql_utils.f)("task",{orderBy:"startDate_DESC",where:{task:{id:id}}})},{query:graphql_queries.c,variables:Object(graphql_utils.e)()}]})}}}}),Object(react_apollo_esm.c)(mutations.f,{props:function props(_ref11){var mutate=_ref11.mutate;return{startTimelog:function startTimelog(task){return mutate({variables:{data:{task:{connect:{id:task.id}}}},optimisticResponse:{__typename:"Mutation",startTimelog:{id:uuidv4_default()(),startDate:Object(utils.d)(),finishDate:null,description:null,task:{id:task.id,name:task.name,__typename:"Task"},__typename:"Timelog"}},update:function update(proxy,_ref12){var startTimelog=_ref12.data.startTimelog;return proxy.writeQuery({query:queries.a,data:{activeTimelog:startTimelog}})},refetchQueries:[{query:graphql_queries.c,variables:Object(graphql_utils.e)()},{query:timelog_graphql_queries.b,variables:Object(graphql_utils.f)("task",{where:{startDate:Object(utils.g)()}})}]})}}}}))(TaskList_TaskList);TaskList_TaskList.__docgenInfo={description:"",methods:[],displayName:"TaskList"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/task/containers/TaskList.js"]={name:"TaskList",docgenInfo:TaskList_TaskList.__docgenInfo,path:"src/app/tasks/task/containers/TaskList.js"});var WithTimer=__webpack_require__(250),slicedToArray=__webpack_require__(15),Input=__webpack_require__(153),styled_components_browser_esm=__webpack_require__(20);function TaskQuickadd_templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\tborder: none;\n\tmargin: 0.2rem 0;\n\n\t&:focus {\n\t\toutline: none;\n\t\tbox-shadow: none;\n\t}\n"]);return TaskQuickadd_templateObject=function _templateObject(){return data},data}var StyledInput=Object(styled_components_browser_esm.a)(Input.a)(TaskQuickadd_templateObject()),TaskQuickadd_TaskQuickadd=function TaskQuickadd(_ref){var createTask=_ref.createTask,_useState=Object(react.useState)(""),_useState2=Object(slicedToArray.a)(_useState,2),name=_useState2[0],setName=_useState2[1];return react_default.a.createElement(StyledInput,{placeholder:"Quick Add Task",value:name,onChange:function onChange(e){return setName(e.target.value)},onKeyPress:function handleKeyPress(e){13==e.charCode&&(createTask(name),setName(""))}})},components_TaskQuickadd=TaskQuickadd_TaskQuickadd;TaskQuickadd_TaskQuickadd.__docgenInfo={description:"",methods:[],displayName:"TaskQuickadd"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/task/components/TaskQuickadd.js"]={name:"TaskQuickadd",docgenInfo:TaskQuickadd_TaskQuickadd.__docgenInfo,path:"src/app/tasks/task/components/TaskQuickadd.js"});var containers_TaskQuickadd=Object(react_apollo_esm.c)(mutations.c,{props:function props(_ref){var mutate=_ref.mutate;return{createTask:function createTask(name){return mutate({variables:Object(graphql_utils.d)({name:name})})}}}})(components_TaskQuickadd),main_Main=function Main(){return react_default.a.createElement(react.Fragment,null,react_default.a.createElement(containers_TaskQuickadd,null),react_default.a.createElement(containers_TaskList,null))},main=Object(WithTimer.a)(main_Main);main_Main.__docgenInfo={description:"",methods:[],displayName:"Main"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/main.js"]={name:"Main",docgenInfo:main_Main.__docgenInfo,path:"src/app/tasks/main.js"});var App_App=function App(){return react_default.a.createElement(react_apollo_esm.a,{client:graphql.a},react_default.a.createElement(main,null))};__webpack_exports__.a=App_App;App_App.__docgenInfo={description:"",methods:[],displayName:"App"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/App.js"]={name:"App",docgenInfo:App_App.__docgenInfo,path:"src/app/tasks/App.js"})},565:function(module,__webpack_exports__,__webpack_require__){"use strict";var react=__webpack_require__(1),react_default=__webpack_require__.n(react),es=__webpack_require__(87),Button=(__webpack_require__(311),__webpack_require__(1150)),ProjectList_ProjectList=function ProjectList(_ref){var _ref$projects=_ref.projects,projects=void 0===_ref$projects?[]:_ref$projects,loading=_ref.loading,renderSubcomponent=_ref.renderSubcomponent;return react_default.a.createElement(es.a,{data:projects,loading:loading,columns:[{expander:!0,Expander:function Expander(_ref2){var _ref2$original$subpro=_ref2.original.subprojects,subprojects=void 0===_ref2$original$subpro?[]:_ref2$original$subpro;return react_default.a.createElement(Button.a,{outline:"true",color:"link","data-testid":"subproject-expander"},subprojects.length)},width:50},{Header:"Project",accessor:"name"}],className:"-striped -highlight",SubComponent:function SubComponent(_ref3){var subprojects=_ref3.original.subprojects;return renderSubcomponent(subprojects)},showPagination:!1,pageSize:projects.length})},components_ProjectList=ProjectList_ProjectList;ProjectList_ProjectList.__docgenInfo={description:"",methods:[],displayName:"ProjectList"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/project-task/components/ProjectList.js"]={name:"ProjectList",docgenInfo:ProjectList_ProjectList.__docgenInfo,path:"src/app/tasks/project-task/components/ProjectList.js"});var SubprojectList_SubprojectList=function SubprojectList(_ref){var _ref$subprojects=_ref.subprojects,subprojects=void 0===_ref$subprojects?[]:_ref$subprojects,loading=_ref.loading,renderSubcomponent=_ref.renderSubcomponent;return react_default.a.createElement(es.a,{data:subprojects,loading:loading,columns:[{expander:!0,Expander:function Expander(_ref2){var _ref2$original$tasks=_ref2.original.tasks,tasks=void 0===_ref2$original$tasks?[]:_ref2$original$tasks;return react_default.a.createElement(Button.a,{outline:"true",color:"link","data-testid":"expander"},tasks.length)},width:50},{Header:"Subproject",accessor:"name"}],className:"-striped -highlight",SubComponent:function SubComponent(_ref3){var id=_ref3.original.id;return renderSubcomponent(id)},showPagination:!1,pageSize:subprojects.length})},components_SubprojectList=SubprojectList_SubprojectList;SubprojectList_SubprojectList.__docgenInfo={description:"",methods:[],displayName:"SubprojectList"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/project-task/components/SubprojectList.js"]={name:"SubprojectList",docgenInfo:SubprojectList_SubprojectList.__docgenInfo,path:"src/app/tasks/project-task/components/SubprojectList.js"});var react_apollo_esm=__webpack_require__(9),objectSpread=__webpack_require__(31),objectWithoutProperties=__webpack_require__(35),TaskListRenderProps=__webpack_require__(247),queries=__webpack_require__(112),graphql_queries=__webpack_require__(54),mutations=__webpack_require__(53),utils=__webpack_require__(19),TaskList=Object(react_apollo_esm.b)(Object(react_apollo_esm.c)(graphql_queries.c,{options:function options(_ref){var id=_ref.subprojectId;return{variables:Object(utils.e)({where:{subproject:{id:id}}})}},props:function props(_ref2){var _ref2$data=_ref2.data,_ref2$data$tasks=_ref2$data.tasks;return{tasks:void 0===_ref2$data$tasks?[]:_ref2$data$tasks,loading:_ref2$data.loading}}}),Object(react_apollo_esm.c)(mutations.g,{props:function props(_ref3){var mutate=_ref3.mutate;return{updateTask:function updateTask(_ref4){var id=_ref4.id,data=Object(objectWithoutProperties.a)(_ref4,["id"]);return mutate({variables:{data:data,where:{id:id}}})}}}}),Object(react_apollo_esm.c)(mutations.b,{props:function props(_ref5){var mutate=_ref5.mutate;return{completeTask:function completeTask(id){return mutate({variables:{where:{id:id}}})}}}}),Object(react_apollo_esm.c)(mutations.a,{props:function props(_ref6){var mutate=_ref6.mutate;return{cloneTask:function cloneTask(id){return mutate({variables:{where:{id:id}}})}}}}),Object(react_apollo_esm.c)(mutations.e,{props:function props(_ref7){var mutate=_ref7.mutate;return{deleteTask:function deleteTask(id){return mutate({variables:{where:{id:id}}})}}}}),Object(react_apollo_esm.c)(mutations.f,{props:function props(_ref8){var mutate=_ref8.mutate;return{startTimelog:function startTimelog(task){return mutate({variables:{data:{task:{connect:{id:task.id}}}}})}}}}),Object(react_apollo_esm.c)(mutations.d,{props:function props(_ref9){var mutate=_ref9.mutate;return{createTimelog:function createTimelog(_ref10){var id=_ref10.id,data=Object(objectWithoutProperties.a)(_ref10,["id"]);return mutate({variables:{data:Object(objectSpread.a)({},data,{task:{connect:{id:id}}})},refetchQueries:[{query:queries.a,variables:Object(utils.e)()}]})}}}}))(TaskListRenderProps.a),taggedTemplateLiteral=__webpack_require__(4),src=__webpack_require__(11);function _templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\tquery QueryProjects($where: ProjectWhereInput!) {\n\t\tprojects(where: $where) {\n\t\t\tid\n\t\t\tname\n\t\t\tsubprojects {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t\ttasks {\n\t\t\t\t\tid\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]);return _templateObject=function _templateObject(){return data},data}var QUERY_PROJECTS=__webpack_require__.n(src)()(_templateObject()),Container=__webpack_require__(1130),WithTimer=__webpack_require__(250),containers_ProjectList_ProjectList=function ProjectList(_ref){var loading=_ref.loading,projects=_ref.projects;return react_default.a.createElement(components_ProjectList,{projects:projects,loading:loading,renderSubcomponent:function renderSubcomponent(subprojects){return react_default.a.createElement(Container.a,null,react_default.a.createElement(components_SubprojectList,{subprojects:subprojects,loading:!1,renderSubcomponent:function renderSubcomponent(subprojectId){return react_default.a.createElement(Container.a,null,react_default.a.createElement(TaskList,{subprojectId:subprojectId}))}}))}})};__webpack_exports__.a=Object(react_apollo_esm.c)(QUERY_PROJECTS,{options:{variables:Object(utils.e)()},props:function props(_ref2){var _ref2$data=_ref2.data,_ref2$data$projects=_ref2$data.projects;return{projects:void 0===_ref2$data$projects?[]:_ref2$data$projects,loading:_ref2$data.loading}}})(Object(WithTimer.a)(containers_ProjectList_ProjectList));containers_ProjectList_ProjectList.__docgenInfo={description:"",methods:[],displayName:"ProjectList"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/project-task/containers/ProjectList.js"]={name:"ProjectList",docgenInfo:containers_ProjectList_ProjectList.__docgenInfo,path:"src/app/tasks/project-task/containers/ProjectList.js"})},567:function(module,__webpack_exports__,__webpack_require__){"use strict";var objectSpread=__webpack_require__(31),objectWithoutProperties=__webpack_require__(35),react=__webpack_require__(1),react_default=__webpack_require__.n(react),react_apollo_esm=__webpack_require__(9),TimelogList=__webpack_require__(249),es6=__webpack_require__(30),utils=__webpack_require__(26),TimelogChart_renderCustomizedLabel=function renderCustomizedLabel(props){var x=props.x,y=props.y,width=props.width,value=(props.height,props.value);return react_default.a.createElement("g",null,react_default.a.createElement("circle",{cx:x+width/2,cy:y-15,r:15,fill:"#8884d8"}),react_default.a.createElement("text",{x:x+width/2,y:y-15,fill:"#fff",textAnchor:"middle",dominantBaseline:"middle"},value))},TimelogChart_TimelogChart=function TimelogChart(_ref){var _ref$timelogs=_ref.timelogs,timelogs=void 0===_ref$timelogs?[]:_ref$timelogs,timelogsByDate=Object(utils.i)(timelogs,function(timelog){return Object(utils.c)(timelog.startDate)}),chartBars=Object.keys(timelogsByDate).map(function(key){return{date:key,time:Object(utils.f)(timelogsByDate[key]),count:timelogsByDate[key].length}});return react_default.a.createElement(es6.b,{width:500,height:300,data:chartBars,margin:{top:5,right:30,left:20,bottom:5}},react_default.a.createElement(es6.c,{strokeDasharray:"3 3"}),react_default.a.createElement(es6.k,{dataKey:"date"}),react_default.a.createElement(es6.l,{domain:[0,432e4],hide:"true"}),react_default.a.createElement(es6.j,{formatter:utils.a}),react_default.a.createElement(es6.a,{dataKey:"time",fill:"#8884d8"},react_default.a.createElement(es6.f,{dataKey:"count",content:TimelogChart_renderCustomizedLabel})))},components_TimelogChart=TimelogChart_TimelogChart;TimelogChart_TimelogChart.__docgenInfo={description:"",methods:[],displayName:"TimelogChart"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/timelog/components/TimelogChart.js"]={name:"TimelogChart",docgenInfo:TimelogChart_TimelogChart.__docgenInfo,path:"src/app/tasks/timelog/components/TimelogChart.js"});var Container=__webpack_require__(1130),Row=__webpack_require__(1131),Col=__webpack_require__(576),TimelogListWithChart_TimelogListWithChart=function TimelogListWithChart(_ref){var renderChart=_ref.renderChart,renderList=_ref.renderList;return react_default.a.createElement(Container.a,null,react_default.a.createElement(Row.a,null,react_default.a.createElement(Col.a,{className:"px-0"},renderChart()),react_default.a.createElement(Col.a,null,renderList())))},components_TimelogListWithChart=TimelogListWithChart_TimelogListWithChart;TimelogListWithChart_TimelogListWithChart.__docgenInfo={description:"",methods:[],displayName:"TimelogListWithChart"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/timelog/components/TimelogListWithChart.js"]={name:"TimelogListWithChart",docgenInfo:TimelogListWithChart_TimelogListWithChart.__docgenInfo,path:"src/app/tasks/timelog/components/TimelogListWithChart.js"});var queries=__webpack_require__(100),mutations=__webpack_require__(147),WithDateRangeSelect=__webpack_require__(143),graphql_utils=__webpack_require__(19),DailyTimelogList_DailyTimelogList=function DailyTimelogList(_ref){var timelogs=_ref.timelogs,updateTimelog=_ref.updateTimelog,deleteTimelog=_ref.deleteTimelog;return react_default.a.createElement(components_TimelogListWithChart,{renderChart:function renderChart(){return react_default.a.createElement(components_TimelogChart,{timelogs:timelogs})},renderList:function renderList(){return react_default.a.createElement(TimelogList.a,{timelogs:timelogs,updateTimelog:updateTimelog,deleteTimelog:deleteTimelog})}})},DailyTimelogList_timelogsWithTaskQuery=function timelogsWithTaskQuery(dateRange){return{query:queries.b,variables:Object(graphql_utils.f)("task",{orderBy:"startDate_DESC",where:{startDate_gte:dateRange[0],startDate_lte:dateRange[1]}})}},ConnectedDailyTimelogList=Object(react_apollo_esm.b)(Object(react_apollo_esm.c)(queries.b,{options:function options(_ref2){var dateRange=_ref2.dateRange;return DailyTimelogList_timelogsWithTaskQuery(dateRange)},props:function props(_ref3){var _ref3$data$timelogs=_ref3.data.timelogs;return{timelogs:void 0===_ref3$data$timelogs?[]:_ref3$data$timelogs}}}),Object(react_apollo_esm.c)(mutations.b,{props:function props(_ref4){var mutate=_ref4.mutate,dateRange=_ref4.ownProps.dateRange;return{updateTimelog:function updateTimelog(_ref5){var id=_ref5.id,data=Object(objectWithoutProperties.a)(_ref5,["id"]);return mutate({variables:{data:data,where:{id:id}},refetchQueries:[DailyTimelogList_timelogsWithTaskQuery(dateRange)]})}}}}),Object(react_apollo_esm.c)(mutations.a,{props:function props(_ref6){var mutate=_ref6.mutate,dateRange=_ref6.ownProps.dateRange;return{deleteTimelog:function deleteTimelog(id){return mutate({variables:{where:{id:id}},update:function update(proxy,_ref7){var deleteTimelog=_ref7.data.deleteTimelog,query=DailyTimelogList_timelogsWithTaskQuery(dateRange),timelogsWithoutId=proxy.readQuery(query).timelogs.filter(function(timelog){return timelog.id!==deleteTimelog.id});proxy.writeQuery(Object(objectSpread.a)({},query,{data:{timelogs:timelogsWithoutId}}))}})}}}}))(DailyTimelogList_DailyTimelogList);__webpack_exports__.a=Object(WithDateRangeSelect.a)(ConnectedDailyTimelogList);DailyTimelogList_DailyTimelogList.__docgenInfo={description:"",methods:[],displayName:"DailyTimelogList"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/timelog/containers/DailyTimelogList.js"]={name:"DailyTimelogList",docgenInfo:DailyTimelogList_DailyTimelogList.__docgenInfo,path:"src/app/tasks/timelog/containers/DailyTimelogList.js"})},568:function(module,__webpack_exports__,__webpack_require__){"use strict";var react=__webpack_require__(1),react_default=__webpack_require__.n(react),react_apollo_esm=__webpack_require__(9),taggedTemplateLiteral=__webpack_require__(4),src=__webpack_require__(11);function _templateObject(){var data=Object(taggedTemplateLiteral.a)(["\n\tmutation Login($email: String!, $password: String!) {\n\t\tlogin(email: $email, password: $password) {\n\t\t\ttoken\n\t\t\tuser {\n\t\t\t\tid\n\t\t\t}\n\t\t}\n\t}\n"]);return _templateObject=function _templateObject(){return data},data}var LOGIN=__webpack_require__.n(src)()(_templateObject()),regenerator=__webpack_require__(148),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(239),slicedToArray=__webpack_require__(15),Container=__webpack_require__(1130),Form=__webpack_require__(1128),Col=__webpack_require__(576),FormGroup=__webpack_require__(360),Label=__webpack_require__(361),Input=__webpack_require__(153),Button=__webpack_require__(124),Login_Login=function Login(_ref){var login=_ref.login,_useState=Object(react.useState)(!1),_useState2=Object(slicedToArray.a)(_useState,2),loading=_useState2[0],setLoading=_useState2[1],_useState3=Object(react.useState)(""),_useState4=Object(slicedToArray.a)(_useState3,2),error=_useState4[0],setError=_useState4[1],handleLogin=function(){var _ref2=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee(event){return regenerator_default.a.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return event.preventDefault(),setLoading(!0),_context.prev=2,_context.next=5,login({email:event.target.email.value,password:event.target.password.value});case 5:window.history.back(),_context.next=11;break;case 8:_context.prev=8,_context.t0=_context.catch(2),setError(_context.t0);case 11:setLoading(!1);case 12:case"end":return _context.stop()}},_callee,null,[[2,8]])}));return function handleLogin(_x){return _ref2.apply(this,arguments)}}();return react_default.a.createElement(Container.a,null,react_default.a.createElement(Form.a,{onSubmit:loading?null:handleLogin},react_default.a.createElement(Col.a,{sm:{size:4,offset:3}},react_default.a.createElement(FormGroup.a,null,react_default.a.createElement(Label.a,{for:"email"},"Email"),react_default.a.createElement(Input.a,{id:"email",name:"email",invalid:!!error}))),react_default.a.createElement(Col.a,{sm:{size:4,offset:3}},react_default.a.createElement(FormGroup.a,null,react_default.a.createElement(Label.a,{for:"password"},"Password"),react_default.a.createElement(Input.a,{id:"password",name:"password",invalid:!!error}))),react_default.a.createElement(Col.a,{sm:{size:4,offset:3}},react_default.a.createElement(Button.a,{type:"submit",outline:!0,color:"primary",disabled:loading},loading?"Loading…":"Submit"))))},components_Login=Login_Login;Login_Login.__docgenInfo={description:"",methods:[],displayName:"Login"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/auth/components/Login.js"]={name:"Login",docgenInfo:Login_Login.__docgenInfo,path:"src/app/tasks/auth/components/Login.js"});var utils=__webpack_require__(19),containers_Login_Login=function Login(_ref){var login=_ref.login;return react_default.a.createElement(components_Login,{login:login})};__webpack_exports__.a=Object(react_apollo_esm.c)(LOGIN,{props:function props(_ref2){var mutate=_ref2.mutate;return{login:function login(variables){return mutate({variables:variables})}}},options:{update:function update(proxy,_ref3){var login=_ref3.data.login;return Object(utils.c)(login)}}})(containers_Login_Login);containers_Login_Login.__docgenInfo={description:"",methods:[],displayName:"Login"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/app/tasks/auth/containers/Login.js"]={name:"Login",docgenInfo:containers_Login_Login.__docgenInfo,path:"src/app/tasks/auth/containers/Login.js"})},598:function(module,exports,__webpack_require__){__webpack_require__(599),__webpack_require__(701),module.exports=__webpack_require__(702)},702:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(138);__webpack_require__(836);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(function loadStories(){var req=__webpack_require__(837);req.keys().forEach(function(filename){return req(filename)})},module)}.call(this,__webpack_require__(271)(module))},837:function(module,exports,__webpack_require__){var map={"./tasks/stories/Components.stories.js":838,"./tasks/stories/Task.stories.js":868,"./tasks/stories/TaskListDropdown.stories.js":1127};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=837},838:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(1),__webpack_require__(138);var _storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(89);__webpack_require__(231),__webpack_require__(334),__webpack_require__(344),__webpack_require__(343),__webpack_require__(237),Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("createTag"),Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("updateTag"),Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("onCancel"),Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("onClick"),Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("deleteTag"),Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("onCancel"),Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("onClick")},868:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(138),react_apollo__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9),_graphql__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(177),_App__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(563),_new_project_containers_ProjectList__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(561),_timelog_containers_DailyTimelogList__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__(1125),__webpack_require__(567)),_estimate_panel_containers_EstimatePanel__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(562),_utils_ExportTimelogs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(554),_project_task_containers_ProjectList__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(565),_auth_containers_Login__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(568),_graphql_utils__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(19),_tag_containers_TagChart__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(560),WithApollo=function WithApollo(Component){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_apollo__WEBPACK_IMPORTED_MODULE_2__.a,{client:_graphql__WEBPACK_IMPORTED_MODULE_3__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component,null))},WithAuth=function WithAuth(Component){return Object(_graphql_utils__WEBPACK_IMPORTED_MODULE_12__.a)()?Component:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Login required.")};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Task Module",module).add("login",function(){return WithApollo(_auth_containers_Login__WEBPACK_IMPORTED_MODULE_11__.a)}).add("task",function(){return WithAuth(WithApollo(_App__WEBPACK_IMPORTED_MODULE_4__.a))}).add("project-task",function(){return WithAuth(WithApollo(_project_task_containers_ProjectList__WEBPACK_IMPORTED_MODULE_10__.a))}).add("new-project",function(){return WithAuth(WithApollo(_new_project_containers_ProjectList__WEBPACK_IMPORTED_MODULE_5__.a))}).add("timelogs",function(){return WithAuth(WithApollo(_timelog_containers_DailyTimelogList__WEBPACK_IMPORTED_MODULE_7__.a))}).add("estimate-panel",function(){return WithAuth(WithApollo(_estimate_panel_containers_EstimatePanel__WEBPACK_IMPORTED_MODULE_8__.a))}).add("tag-chart",function(){return WithAuth(WithApollo(_tag_containers_TagChart__WEBPACK_IMPORTED_MODULE_13__.a))}).add("export",function(){return WithAuth(WithApollo(_utils_ExportTimelogs__WEBPACK_IMPORTED_MODULE_9__.a))})}.call(this,__webpack_require__(271)(module))}},[[598,1,2]]]);
//# sourceMappingURL=main.e64c242958fb16ea1731.bundle.js.map